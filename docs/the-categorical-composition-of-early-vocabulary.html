<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Investigating Early Language Learning Using Cross-Linguistic Parent-Report Data</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Investigating Early Language Learning Using Cross-Linguistic Parent-Report Data">
  <meta name="generator" content="bookdown 0.1.19 and GitBook 2.6.7">

  <meta property="og:title" content="Investigating Early Language Learning Using Cross-Linguistic Parent-Report Data" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="langcog/wordbank-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Investigating Early Language Learning Using Cross-Linguistic Parent-Report Data" />
  
  
  

<meta name="author" content="Mika Braginsky, Daniel Yurovsky, Virginia Marchman, Michael Frank">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="vocab.html">
<link rel="next" href="variability-in-learning-individual-words.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>2</b> Methods</a></li>
<li class="chapter" data-level="3" data-path="vocab.html"><a href="vocab.html"><i class="fa fa-check"></i><b>3</b> Vocabulary Development</a></li>
<li class="chapter" data-level="4" data-path="the-categorical-composition-of-early-vocabulary.html"><a href="the-categorical-composition-of-early-vocabulary.html"><i class="fa fa-check"></i><b>4</b> The Categorical Composition of Early Vocabulary</a><ul>
<li class="chapter" data-level="4.1" data-path="the-categorical-composition-of-early-vocabulary.html"><a href="the-categorical-composition-of-early-vocabulary.html#semantic-category-representation"><i class="fa fa-check"></i><b>4.1</b> Semantic Category Representation</a></li>
<li class="chapter" data-level="4.2" data-path="the-categorical-composition-of-early-vocabulary.html"><a href="the-categorical-composition-of-early-vocabulary.html#lexical-category-representation"><i class="fa fa-check"></i><b>4.2</b> Lexical Category Representation</a></li>
<li class="chapter" data-level="4.3" data-path="the-categorical-composition-of-early-vocabulary.html"><a href="the-categorical-composition-of-early-vocabulary.html#plots-for-bucld-poster"><i class="fa fa-check"></i><b>4.3</b> Plots for BUCLD poster</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="variability-in-learning-individual-words.html"><a href="variability-in-learning-individual-words.html"><i class="fa fa-check"></i><b>5</b> Variability in Learning Individual Words</a></li>
<li class="chapter" data-level="6" data-path="the-growth-of-grammar.html"><a href="the-growth-of-grammar.html"><i class="fa fa-check"></i><b>6</b> The Growth of Grammar</a></li>
<li class="chapter" data-level="7" data-path="gesture-and-early-language.html"><a href="gesture-and-early-language.html"><i class="fa fa-check"></i><b>7</b> Gesture and Early Language</a></li>
<li class="chapter" data-level="8" data-path="placeholder.html"><a href="placeholder.html"><i class="fa fa-check"></i><b>8</b> Placeholder</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Investigating Early Language Learning Using Cross-Linguistic Parent-Report Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-categorical-composition-of-early-vocabulary" class="section level1">
<h1><span class="header-section-number">4</span> The Categorical Composition of Early Vocabulary</h1>
<p>Breaking down vocab by lexical category (and other things?)</p>
<div id="semantic-category-representation" class="section level2">
<h2><span class="header-section-number">4.1</span> Semantic Category Representation</h2>
</div>
<div id="lexical-category-representation" class="section level2">
<h2><span class="header-section-number">4.2</span> Lexical Category Representation</h2>
<p>This work was reported to BUCLD 2015 by Braginsky et al.</p>
<p>Load in Wordbank data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">items &lt;-<span class="st"> </span><span class="kw">get_item_data</span>() %&gt;%
<span class="st">  </span><span class="kw">filter</span>(type ==<span class="st"> &quot;word&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">num_item_id =</span> <span class="kw">as.numeric</span>(<span class="kw">substr</span>(item_id, <span class="dv">6</span>, <span class="kw">nchar</span>(item_id))))</code></pre></div>
<p>Function for getting vocabulary composition data for a given instrument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">get_vocab_comp &lt;-<span class="st"> </span>function(input_language, input_form) {
  <span class="kw">print</span>(<span class="kw">paste</span>(input_language,input_form))
  lang_vocab_items &lt;-<span class="st"> </span><span class="kw">filter</span>(items, language ==<span class="st"> </span>input_language, 
                             form ==<span class="st"> </span>input_form) %&gt;%
<span class="st">    </span><span class="kw">filter</span>(lexical_category %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;nouns&quot;</span>, <span class="st">&quot;predicates&quot;</span>, <span class="st">&quot;function_words&quot;</span>))
  
  lang_vocab_data &lt;-<span class="st"> </span><span class="kw">get_instrument_data</span>(<span class="dt">instrument_language =</span> input_language,
                                         <span class="dt">instrument_form =</span> input_form,
                                         <span class="dt">items =</span> lang_vocab_items$item_id,
                                         <span class="dt">iteminfo =</span> lang_vocab_items) %&gt;%
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">value =</span> <span class="kw">ifelse</span>(<span class="kw">is.na</span>(value), <span class="st">&quot;&quot;</span>, value),
           <span class="dt">produces =</span> value ==<span class="st"> &quot;produces&quot;</span>,
           <span class="dt">understands =</span> value ==<span class="st"> &quot;produces&quot;</span> |<span class="st"> </span>value ==<span class="st"> &quot;understands&quot;</span>) %&gt;%
<span class="st">    </span><span class="kw">select</span>(-value) %&gt;%
<span class="st">    </span><span class="kw">gather</span>(measure, value, produces, understands)
  
  num_words &lt;-<span class="st"> </span><span class="kw">nrow</span>(lang_vocab_items)
  
  lang_vocab_summary &lt;-<span class="st"> </span>lang_vocab_data %&gt;%
<span class="st">    </span><span class="kw">group_by</span>(data_id, measure, lexical_category) %&gt;%
<span class="st">    </span><span class="kw">summarise</span>(<span class="dt">num_true =</span> <span class="kw">sum</span>(value),
              <span class="dt">prop =</span> <span class="kw">sum</span>(value) /<span class="st"> </span><span class="kw">n</span>())
  
  lang_vocab_sizes &lt;-<span class="st"> </span>lang_vocab_summary %&gt;%
<span class="st">    </span><span class="kw">summarise</span>(<span class="dt">vocab_num =</span> <span class="kw">sum</span>(num_true),
              <span class="dt">vocab =</span> <span class="kw">sum</span>(num_true) /<span class="st"> </span>num_words)
  
  lang_vocab_summary %&gt;%
<span class="st">    </span><span class="kw">left_join</span>(lang_vocab_sizes) %&gt;%
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">prop_vocab =</span> num_true /<span class="st"> </span>vocab_num) %&gt;%
<span class="st">    </span><span class="kw">select</span>(-num_true) %&gt;%
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">language =</span> input_language, <span class="dt">form =</span> input_form)
}</code></pre></div>
<p>Get vocabulary composition data for all instruments. (Limiting to traditional WS/WG for now because short forms like TEDS don’t have category information.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">instruments &lt;-<span class="st"> </span>items %&gt;%
<span class="st">  </span><span class="kw">filter</span>(form %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;WS&quot;</span>,<span class="st">&quot;WG&quot;</span>)) %&gt;%
<span class="st">  </span><span class="kw">select</span>(language, form) %&gt;%
<span class="st">  </span><span class="kw">distinct</span>()

vocab_comp_data &lt;-<span class="st"> </span><span class="kw">map2</span>(instruments$language,
                        instruments$form, get_vocab_comp) %&gt;%
<span class="st">  </span><span class="kw">bind_rows</span>()
<span class="co">#&gt; [1] &quot;Croatian WG&quot;</span>
<span class="co">#&gt; [1] &quot;Croatian WS&quot;</span>
<span class="co">#&gt; [1] &quot;German WS&quot;</span>
<span class="co">#&gt; [1] &quot;Russian WG&quot;</span>
<span class="co">#&gt; [1] &quot;Russian WS&quot;</span>
<span class="co">#&gt; [1] &quot;Swedish WG&quot;</span>
<span class="co">#&gt; [1] &quot;Swedish WS&quot;</span>
<span class="co">#&gt; [1] &quot;Turkish WG&quot;</span>
<span class="co">#&gt; [1] &quot;Turkish WS&quot;</span>
<span class="co">#&gt; [1] &quot;Danish WG&quot;</span>
<span class="co">#&gt; [1] &quot;French (Quebec) WG&quot;</span>
<span class="co">#&gt; [1] &quot;English WG&quot;</span>
<span class="co">#&gt; [1] &quot;Spanish WG&quot;</span>
<span class="co">#&gt; [1] &quot;Italian WS&quot;</span>
<span class="co">#&gt; [1] &quot;English WS&quot;</span>
<span class="co">#&gt; [1] &quot;Spanish WS&quot;</span>
<span class="co">#&gt; [1] &quot;Norwegian WG&quot;</span>
<span class="co">#&gt; [1] &quot;Norwegian WS&quot;</span>
<span class="co">#&gt; [1] &quot;Cantonese WS&quot;</span>
<span class="co">#&gt; [1] &quot;Mandarin WS&quot;</span>
<span class="co">#&gt; [1] &quot;Italian WG&quot;</span>
<span class="co">#&gt; [1] &quot;Danish WS&quot;</span>
<span class="co">#&gt; [1] &quot;Hebrew WG&quot;</span>
<span class="co">#&gt; [1] &quot;British Sign Language WG&quot;</span>
<span class="co">#&gt; [1] &quot;Hebrew WS&quot;</span>
<span class="co">#&gt; [1] &quot;French (Quebec) WS&quot;</span>
<span class="co">#&gt; [1] &quot;Slovak WG&quot;</span>
<span class="co">#&gt; [1] &quot;Slovak WS&quot;</span>
<span class="co">#&gt; [1] &quot;Cypriot Greek WS&quot;</span>
<span class="co">#&gt; [1] &quot;Kigiriama WG&quot;</span>
<span class="co">#&gt; [1] &quot;Kigiriama WS&quot;</span>
<span class="co">#&gt; [1] &quot;Kiswahili WG&quot;</span>
<span class="co">#&gt; [1] &quot;Kiswahili WS&quot;</span></code></pre></div>
<p>Show sample size of each instrument.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sample_sizes &lt;-<span class="st"> </span>vocab_comp_data %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(language, form, measure, lexical_category) %&gt;%
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) %&gt;%
<span class="st">  </span><span class="kw">ungroup</span>() %&gt;%
<span class="st">  </span><span class="kw">select</span>(language, form, n) %&gt;%
<span class="st">  </span><span class="kw">distinct</span>()</code></pre></div>
<p>Base plot for looking at vocabulary composition.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">base_plot &lt;-<span class="st"> </span>function(input_form, input_measure) {
  vocab_comp_data %&gt;%
<span class="st">    </span><span class="kw">filter</span>(form ==<span class="st"> </span>input_form, measure ==<span class="st"> </span>input_measure) %&gt;%
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">lexical_category =</span> <span class="kw">factor</span>(lexical_category,
                                     <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;nouns&quot;</span>, <span class="st">&quot;predicates&quot;</span>, <span class="st">&quot;function_words&quot;</span>),
                                     <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Nouns  &quot;</span>, <span class="st">&quot;Predicates  &quot;</span>, <span class="st">&quot;Function Words&quot;</span>))) %&gt;%
<span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> vocab, <span class="dt">y =</span> prop, <span class="dt">colour =</span> lexical_category)) +
<span class="st">    </span><span class="kw">facet_wrap</span>(~language) +
<span class="st">    </span><span class="kw">geom_abline</span>(<span class="dt">slope =</span> <span class="dv">1</span>, <span class="dt">intercept =</span> <span class="dv">0</span>, <span class="dt">color =</span> <span class="st">&quot;gray&quot;</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>) +<span class="st"> </span>
<span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.2</span>),
                       <span class="dt">name =</span> <span class="st">&quot;Proportion of Category</span><span class="ch">\n</span><span class="st">&quot;</span>) +
<span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.2</span>),
                       <span class="dt">name =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">Vocabulary Size&quot;</span>) +
<span class="st">    </span><span class="kw">scale_colour_solarized</span>(<span class="dt">name =</span> <span class="st">&quot;&quot;</span>) +
<span class="st">    </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;top&quot;</span>,
          <span class="dt">legend.key =</span> <span class="kw">element_blank</span>(),
          <span class="dt">legend.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;transparent&quot;</span>))
}</code></pre></div>
<p>Plot WS productive vocabulary composition as a function of vocabulary size for each language.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">base_plot</span>(<span class="st">&quot;WS&quot;</span>, <span class="st">&quot;produces&quot;</span>) +<span class="st"> </span><span class="kw">geom_jitter</span>(<span class="dt">size =</span> <span class="fl">0.7</span>)</code></pre></div>
<p><img src="wordbank-book_files/figure-html/plot_points_ws-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>Plot WG productive vocabulary composition as a function of vocabulary size for each language.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">base_plot</span>(<span class="st">&quot;WG&quot;</span>, <span class="st">&quot;produces&quot;</span>) +<span class="st"> </span><span class="kw">geom_jitter</span>(<span class="dt">size =</span> <span class="fl">0.7</span>)</code></pre></div>
<p><img src="wordbank-book_files/figure-html/plot_points_wg_prod-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>Plot WG receptive vocabulary composition as a function of vocabulary size for each language.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">base_plot</span>(<span class="st">&quot;WG&quot;</span>, <span class="st">&quot;understands&quot;</span>) +<span class="st"> </span><span class="kw">geom_jitter</span>(<span class="dt">size =</span> <span class="fl">0.7</span>)</code></pre></div>
<p><img src="wordbank-book_files/figure-html/plot_points_wg_comp-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>Plot WS productive vocabulary composition as a function of vocabulary size for each language with cubic contrained lm curves.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">base_plot</span>(<span class="st">&quot;WS&quot;</span>, <span class="st">&quot;produces&quot;</span>) +
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;clm&quot;</span>, <span class="dt">formula =</span> y ~<span class="st"> </span><span class="kw">I</span>(x ^<span class="st"> </span><span class="dv">3</span>) +<span class="st"> </span><span class="kw">I</span>(x ^<span class="st"> </span><span class="dv">2</span>) +<span class="st"> </span>x -<span class="st"> </span><span class="dv">1</span>)</code></pre></div>
<p><img src="wordbank-book_files/figure-html/plot_models_ws-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>Plot WG productive vocabulary composition as a function of vocabulary size for each language with cubic contrained lm curves.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">base_plot</span>(<span class="st">&quot;WG&quot;</span>, <span class="st">&quot;produces&quot;</span>) +
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;clm&quot;</span>, <span class="dt">formula =</span> y ~<span class="st"> </span><span class="kw">I</span>(x ^<span class="st"> </span><span class="dv">3</span>) +<span class="st"> </span><span class="kw">I</span>(x ^<span class="st"> </span><span class="dv">2</span>) +<span class="st"> </span>x -<span class="st"> </span><span class="dv">1</span>)</code></pre></div>
<p><img src="wordbank-book_files/figure-html/plot_models_wg_prod-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>Plot WG receptive vocabulary composition as a function of vocabulary size for each language with cubic contrained lm curves.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">base_plot</span>(<span class="st">&quot;WG&quot;</span>, <span class="st">&quot;understands&quot;</span>) +
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;clm&quot;</span>, <span class="dt">formula =</span> y ~<span class="st"> </span><span class="kw">I</span>(x ^<span class="st"> </span><span class="dv">3</span>) +<span class="st"> </span><span class="kw">I</span>(x ^<span class="st"> </span><span class="dv">2</span>) +<span class="st"> </span>x -<span class="st"> </span><span class="dv">1</span>)</code></pre></div>
<p><img src="wordbank-book_files/figure-html/plot_models_wg_comp-1.png" width="960" style="display: block; margin: auto;" /></p>
<p>Function for resampling data and computing area estimate for each sample.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sample_areas &lt;-<span class="st"> </span>function(d, <span class="dt">nboot =</span> <span class="dv">1000</span>) {
  
  poly_area &lt;-<span class="st"> </span>function(group_data) {
    model =<span class="st"> </span><span class="kw">clm</span>(prop ~<span class="st"> </span><span class="kw">I</span>(vocab ^<span class="st"> </span><span class="dv">3</span>) +<span class="st"> </span><span class="kw">I</span>(vocab ^<span class="st"> </span><span class="dv">2</span>) +<span class="st"> </span>vocab -<span class="st"> </span><span class="dv">1</span>,
                <span class="dt">data =</span> group_data)
    <span class="kw">return</span>((model$solution %*%<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>/<span class="dv">4</span>, <span class="dv">1</span>/<span class="dv">3</span>, <span class="dv">1</span>/<span class="dv">2</span>) -<span class="st"> </span><span class="fl">0.5</span>)[<span class="dv">1</span>])
  }
  
  counter &lt;-<span class="st"> </span><span class="dv">1</span>
  sample_area &lt;-<span class="st"> </span>function(d) {
    d_frame &lt;-<span class="st"> </span>d %&gt;%
<span class="st">      </span><span class="kw">group_by</span>(language, form, measure) %&gt;%
<span class="st">      </span><span class="kw">sample_frac</span>(<span class="dt">replace =</span> <span class="ot">TRUE</span>) %&gt;%
<span class="st">      </span><span class="kw">group_by</span>(language, form, measure, lexical_category) %&gt;%
<span class="st">      </span><span class="kw">do</span>(<span class="dt">area =</span> <span class="kw">poly_area</span>(.)) %&gt;%
<span class="st">      </span><span class="kw">mutate</span>(<span class="dt">area =</span> area[<span class="dv">1</span>]) %&gt;%
<span class="st">      </span><span class="kw">rename_</span>(<span class="dt">.dots =</span> <span class="kw">setNames</span>(<span class="st">&quot;area&quot;</span>, counter))
    
    counter &lt;&lt;-<span class="st"> </span>counter +<span class="st"> </span><span class="dv">1</span> <span class="co"># increment counter outside scope</span>
    <span class="kw">return</span>(d_frame)
  }
  
  areas &lt;-<span class="st"> </span><span class="kw">replicate</span>(nboot, <span class="kw">sample_area</span>(d), <span class="dt">simplify =</span> <span class="ot">FALSE</span>)
  
  <span class="kw">Reduce</span>(left_join, areas) %&gt;%
<span class="st">    </span><span class="kw">gather</span>(sample, area, -language, -form, -measure, -lexical_category)
}</code></pre></div>
<p>Resample data and find the mean and CI of the area estimate.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">areas &lt;-<span class="st"> </span><span class="kw">sample_areas</span>(vocab_comp_data, <span class="dv">1000</span>)

area_summary &lt;-<span class="st"> </span>areas %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(language, form, measure, lexical_category) %&gt;%
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean =</span>  <span class="kw">mean</span>(area),
            <span class="dt">ci_lower =</span> <span class="kw">ci_lower</span>(area),
            <span class="dt">ci_upper =</span> <span class="kw">ci_upper</span>(area)) %&gt;%
<span class="st">  </span><span class="kw">ungroup</span>() %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">language =</span> <span class="kw">factor</span>(language),
         <span class="dt">instrument =</span> <span class="kw">paste</span>(language, form))

area_order &lt;-<span class="st"> </span><span class="kw">filter</span>(area_summary, form ==<span class="st"> &quot;WS&quot;</span>, measure ==<span class="st"> &quot;produces&quot;</span>,
                     lexical_category ==<span class="st"> &quot;nouns&quot;</span>)
language_levels &lt;-<span class="st"> </span>area_order$language[<span class="kw">order</span>(area_order$mean,
                                             area_order$language,
                                             <span class="dt">decreasing =</span> <span class="ot">FALSE</span>)]

area_summary_ordered &lt;-<span class="st"> </span>area_summary %&gt;%
<span class="st">  </span><span class="kw">filter</span>(form %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;WS&quot;</span>, <span class="st">&quot;WG&quot;</span>),
         !(form ==<span class="st"> &quot;WS&quot;</span> &amp;<span class="st"> </span>measure ==<span class="st"> &quot;understands&quot;</span>)) %&gt;%
<span class="st">  </span><span class="kw">ungroup</span>() %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">language =</span> <span class="kw">factor</span>(language, <span class="dt">levels =</span> language_levels),
         <span class="dt">lexical_category =</span> <span class="kw">factor</span>(lexical_category,
                                   <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;nouns&quot;</span>, <span class="st">&quot;predicates&quot;</span>, <span class="st">&quot;function_words&quot;</span>),
                                   <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Nouns&quot;</span>, <span class="st">&quot;Predicates&quot;</span>, <span class="st">&quot;Function Words&quot;</span>)))</code></pre></div>
<p>Plot each lexical category’s area estimate by language, form, and measure.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(area_summary_ordered,
       <span class="kw">aes</span>(<span class="dt">y =</span> language, <span class="dt">x =</span> mean, <span class="dt">colour =</span> lexical_category)) +
<span class="st">  </span><span class="kw">facet_grid</span>(lexical_category ~<span class="st"> </span>form +<span class="st"> </span>measure) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">geom_segment</span>(<span class="kw">aes</span>(<span class="dt">x =</span> ci_lower, <span class="dt">xend =</span> ci_upper,
                   <span class="dt">y =</span> language, <span class="dt">yend =</span> language)) +
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;gray&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">scale_colour_solarized</span>(<span class="dt">name =</span> <span class="st">&quot;&quot;</span>, <span class="dt">guide =</span> <span class="ot">FALSE</span>) +
<span class="st">  </span><span class="kw">scale_y_discrete</span>(<span class="dt">name =</span> <span class="st">&quot;&quot;</span>, <span class="dt">limits =</span> <span class="kw">levels</span>(area_summary_ordered$language)) +
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">Relative representation in early vocabulary&quot;</span>)</code></pre></div>
<p><img src="wordbank-book_files/figure-html/plot_areas-1.png" width="1152" style="display: block; margin: auto;" /></p>
</div>
<div id="plots-for-bucld-poster" class="section level2">
<h2><span class="header-section-number">4.3</span> Plots for BUCLD poster</h2>
<p>Data and models.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sample_sizes_ordered &lt;-<span class="st"> </span>sample_sizes %&gt;%
<span class="st">  </span><span class="kw">filter</span>(form ==<span class="st"> &quot;WS&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">language =</span> <span class="kw">factor</span>(language, <span class="dt">levels =</span> <span class="kw">rev</span>(language_levels)))

language_size_order &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">map</span>(
  <span class="kw">levels</span>(sample_sizes_ordered$language),
  function(language) <span class="kw">sprintf</span>(<span class="st">&quot;%s (N = %s)&quot;</span>, language,
                             sample_sizes_ordered$n[<span class="kw">which</span>(sample_sizes_ordered$language ==<span class="st"> </span>language)])
))

vocab_comp_data_ordered &lt;-<span class="st"> </span>vocab_comp_data %&gt;%
<span class="st">  </span><span class="kw">filter</span>(form ==<span class="st"> &quot;WS&quot;</span>, measure ==<span class="st"> &quot;produces&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">language =</span> <span class="kw">factor</span>(language, <span class="dt">levels =</span> <span class="kw">rev</span>(language_levels)),
         <span class="dt">lexical_category =</span> <span class="kw">factor</span>(lexical_category,
                                   <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;nouns&quot;</span>, <span class="st">&quot;predicates&quot;</span>, <span class="st">&quot;function_words&quot;</span>),
                                   <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Nouns  &quot;</span>, <span class="st">&quot;Predicates  &quot;</span>, <span class="st">&quot;Function Words&quot;</span>))) %&gt;%
<span class="st">  </span><span class="kw">left_join</span>(sample_sizes_ordered) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">language_with_size =</span> <span class="kw">sprintf</span>(<span class="st">&quot;%s (N = %s)&quot;</span>, language, n),
         <span class="dt">language_with_size =</span> <span class="kw">factor</span>(language_with_size, <span class="dt">levels =</span> language_size_order))

<span class="kw">ggplot</span>(vocab_comp_data_ordered, <span class="kw">aes</span>(<span class="dt">x =</span> vocab, <span class="dt">y =</span> prop, <span class="dt">colour =</span> lexical_category)) +
<span class="st">  </span><span class="kw">facet_wrap</span>(~language_with_size, <span class="dt">ncol =</span> <span class="dv">5</span>) +
<span class="st">  </span><span class="kw">geom_jitter</span>(<span class="dt">size =</span> <span class="fl">0.7</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) +
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;clm&quot;</span>, <span class="dt">formula =</span> y ~<span class="st"> </span><span class="kw">I</span>(x ^<span class="st"> </span><span class="dv">3</span>) +<span class="st"> </span><span class="kw">I</span>(x ^<span class="st"> </span><span class="dv">2</span>) +<span class="st"> </span>x -<span class="st"> </span><span class="dv">1</span>, <span class="dt">size =</span> <span class="dv">1</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>) +
<span class="st">  </span><span class="kw">geom_abline</span>(<span class="dt">slope =</span> <span class="dv">1</span>, <span class="dt">intercept =</span> <span class="dv">0</span>, <span class="dt">color =</span> <span class="st">&quot;gray&quot;</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.2</span>),
                     <span class="dt">name =</span> <span class="st">&quot;Proportion of Category</span><span class="ch">\n</span><span class="st">&quot;</span>) +
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.2</span>),
                     <span class="dt">name =</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">Vocabulary Size&quot;</span>) +
<span class="st">  </span><span class="kw">scale_colour_solarized</span>(<span class="dt">name =</span> <span class="st">&quot;&quot;</span>) +
<span class="st">  </span><span class="kw">theme_mikabr</span>(<span class="dt">base_size =</span> <span class="dv">20</span>) +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;top&quot;</span>,
        <span class="dt">legend.key =</span> <span class="kw">element_blank</span>(),
        <span class="dt">legend.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;transparent&quot;</span>))
<span class="co">#ggsave(&quot;BUCLD/data_models.png&quot;, width = 15, height = 10)</span></code></pre></div>
<p><img src="wordbank-book_files/figure-html/plot_points_models_ws-1.png" width="1440" style="display: block; margin: auto;" /></p>
<p>Demo of area estimation.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">demo_langs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;English&quot;</span>, <span class="st">&quot;Mandarin&quot;</span>)
demo_data &lt;-<span class="st"> </span><span class="kw">filter</span>(vocab_comp_data, form ==<span class="st"> &quot;WS&quot;</span>, language %in%<span class="st"> </span>demo_langs) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">panel =</span> <span class="kw">paste</span>(language, <span class="st">&quot;(data)&quot;</span>),
         <span class="dt">lexical_category =</span> <span class="kw">factor</span>(lexical_category,
                                   <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;nouns&quot;</span>, <span class="st">&quot;predicates&quot;</span>, <span class="st">&quot;function_words&quot;</span>),
                                   <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Nouns&quot;</span>, <span class="st">&quot;Predicates&quot;</span>, <span class="st">&quot;Function Words&quot;</span>)))
pts &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.01</span>)

models &lt;-<span class="st"> </span>demo_data %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(language, lexical_category) %&gt;%
<span class="st">  </span><span class="kw">do</span>(<span class="dt">model =</span> <span class="kw">clm</span>(prop ~<span class="st"> </span><span class="kw">I</span>(vocab ^<span class="st"> </span><span class="dv">3</span>) +<span class="st"> </span><span class="kw">I</span>(vocab ^<span class="st"> </span><span class="dv">2</span>) +<span class="st"> </span>vocab -<span class="st"> </span><span class="dv">1</span>, <span class="dt">data =</span> .))

get_lang_lexcat_predictions &lt;-<span class="st"> </span>function(lang, lexcat) {
  model &lt;-<span class="st"> </span><span class="kw">filter</span>(models, language ==<span class="st"> </span>lang, lexical_category ==<span class="st"> </span>lexcat)$model[[<span class="dv">1</span>]]
  <span class="kw">data.frame</span>(<span class="dt">vocab =</span> pts,
             <span class="dt">prop =</span> <span class="kw">predict</span>(model, <span class="dt">newdata =</span> <span class="kw">data.frame</span>(<span class="dt">vocab =</span> pts)),
             <span class="dt">lexical_category =</span> lexcat,
             <span class="dt">language =</span> lang)
}

get_lang_predictions &lt;-<span class="st"> </span>function(lang) {
  <span class="kw">bind_rows</span>(<span class="kw">sapply</span>(<span class="kw">unique</span>(demo_data$lexical_category),
                   function(lexcat) <span class="kw">get_lang_lexcat_predictions</span>(lang, lexcat),
                   <span class="dt">simplify =</span> <span class="ot">FALSE</span>))
}

predictions &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(<span class="kw">sapply</span>(demo_langs, get_lang_predictions, <span class="dt">simplify =</span> <span class="ot">FALSE</span>))

diagonal &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">vocab =</span> <span class="kw">rep</span>(<span class="kw">rev</span>(pts)),
                        <span class="dt">language =</span> demo_langs,
                        <span class="dt">lexical_category =</span> <span class="kw">unique</span>(demo_data$lexical_category))
diagonal$prop &lt;-<span class="st"> </span>diagonal$vocab

area_poly &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(predictions, diagonal) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">panel =</span> <span class="kw">paste</span>(language, <span class="st">&quot;(models)&quot;</span>))

<span class="kw">ggplot</span>(<span class="kw">filter</span>(predictions, language ==<span class="st"> &quot;English&quot;</span>), <span class="kw">aes</span>(<span class="dt">x =</span> vocab, <span class="dt">y =</span> prop)) +
<span class="st">  </span><span class="kw">facet_grid</span>(. ~<span class="st"> </span>lexical_category) +
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">colour =</span> lexical_category), <span class="dt">size =</span> <span class="dv">1</span>) +
<span class="st">  </span><span class="kw">geom_polygon</span>(<span class="dt">data =</span> <span class="kw">filter</span>(area_poly, language ==<span class="st"> &quot;English&quot;</span>),
               <span class="kw">aes</span>(<span class="dt">fill =</span> lexical_category), <span class="dt">alpha =</span> <span class="fl">0.2</span>) +
<span class="st">  </span><span class="kw">geom_abline</span>(<span class="dt">slope =</span> <span class="dv">1</span>, <span class="dt">intercept =</span> <span class="dv">0</span>, <span class="dt">color =</span> <span class="st">&quot;gray&quot;</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">breaks =</span> <span class="kw">c</span>(),
                     <span class="dt">name =</span> <span class="st">&quot;&quot;</span>) +
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">breaks =</span> <span class="kw">c</span>(),
                     <span class="dt">name =</span> <span class="st">&quot;&quot;</span>) +
<span class="st">  </span><span class="kw">scale_colour_solarized</span>(<span class="dt">guide =</span> <span class="ot">FALSE</span>) +
<span class="st">  </span><span class="kw">scale_fill_solarized</span>(<span class="dt">guide =</span> <span class="ot">FALSE</span>) +
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="kw">c</span>(<span class="fl">0.061</span>, <span class="fl">0.91</span>),
        <span class="dt">legend.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">8</span>),
        <span class="dt">legend.key.height =</span> <span class="kw">unit</span>(<span class="fl">0.9</span>, <span class="st">&quot;char&quot;</span>),
        <span class="dt">legend.key.width =</span> <span class="kw">unit</span>(<span class="fl">0.88</span>, <span class="st">&quot;char&quot;</span>),
        <span class="dt">legend.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;transparent&quot;</span>),
        <span class="dt">strip.background =</span> <span class="kw">element_blank</span>(),
        <span class="dt">strip.text.x =</span> <span class="kw">element_blank</span>())
<span class="co">#ggsave(&quot;BUCLD/area_demo.png&quot;, width = 9, height = 3.5)</span></code></pre></div>
<p><img src="wordbank-book_files/figure-html/plot_area_demo-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>WS area estimates.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="kw">filter</span>(area_summary_ordered, form ==<span class="st"> &quot;WS&quot;</span>),
       <span class="kw">aes</span>(<span class="dt">y =</span> language, <span class="dt">x =</span> mean, <span class="dt">col =</span> lexical_category)) +
<span class="st">  </span><span class="kw">facet_grid</span>(lexical_category ~<span class="st"> </span>.) +
<span class="st">  </span><span class="kw">geom_point</span>() +
<span class="st">  </span><span class="kw">geom_segment</span>(<span class="kw">aes</span>(<span class="dt">x =</span> ci_lower, <span class="dt">xend =</span> ci_upper,
                   <span class="dt">y =</span> language, <span class="dt">yend =</span> language)) +
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;gray&quot;</span>) +<span class="st"> </span>
<span class="st">  </span><span class="kw">scale_colour_solarized</span>(<span class="dt">name =</span> <span class="st">&quot;&quot;</span>, <span class="dt">guide =</span> <span class="ot">FALSE</span>) +
<span class="st">  </span><span class="kw">scale_y_discrete</span>(<span class="dt">name =</span> <span class="st">&quot;&quot;</span>, <span class="dt">limits =</span> <span class="kw">levels</span>(area_summary_ordered$language)) +
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">Relative representation in early vocabulary&quot;</span>) +
<span class="st">  </span><span class="kw">theme_mikabr</span>(<span class="dt">base_size =</span> <span class="dv">20</span>)
<span class="co">#ggsave(&quot;BUCLD/diffs.png&quot;, width = 8, height = 11)</span></code></pre></div>
<p><img src="wordbank-book_files/figure-html/plot_areas_ws-1.png" width="768" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="vocab.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="variability-in-learning-individual-words.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/langcog/wordbank-book/edit/master/03-categories.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"theme": "spacelab",
"highlight": "tango",
"code_folding": "hide"
});
});
</script>

</body>

</html>
