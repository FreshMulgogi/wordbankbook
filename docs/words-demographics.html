<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Variability and Consistency in Early Language Learning: The Wordbank Project</title>
  <meta name="description" content="Variability and Consistency in Early Language Learning: The Wordbank Project">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Variability and Consistency in Early Language Learning: The Wordbank Project" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="langcog/wordbank-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Variability and Consistency in Early Language Learning: The Wordbank Project" />
  
  
  

<meta name="author" content="Michael Frank, Mika Braginsky, Virginia Marchman, and Daniel Yurovsky">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="items.html">
<link rel="next" href="aoapred.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<script src="libs/datatables-binding-0.2/datatables.js"></script>
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.12/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.12/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-core-bootstrap-1.10.12/css/dataTables.bootstrap.min.css" rel="stylesheet" />
<link href="libs/dt-core-bootstrap-1.10.12/css/dataTables.bootstrap.extra.css" rel="stylesheet" />
<script src="libs/dt-core-bootstrap-1.10.12/js/jquery.dataTables.min.js"></script>
<script src="libs/dt-core-bootstrap-1.10.12/js/dataTables.bootstrap.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>



</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#outline-of-the-book"><i class="fa fa-check"></i>Outline of the Book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-read-this-book"><i class="fa fa-check"></i>How to Read This Book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#static-book-dynamic-data"><i class="fa fa-check"></i>Static Book, Dynamic Data</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Practical Foundations</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#measuring-early-vocabulary"><i class="fa fa-check"></i><b>1.1</b> Measuring early vocabulary</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#logic-of-parent-report"><i class="fa fa-check"></i><b>1.2</b> Logic of Parent Report</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#limitations-of-parent-report"><i class="fa fa-check"></i><b>1.3</b> Limitations of parent report</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#adaptations-not-translations"><i class="fa fa-check"></i><b>1.4</b> Adaptations, not translations!</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#wordbank"><i class="fa fa-check"></i><b>1.5</b> Wordbank</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>2</b> Methods</a><ul>
<li class="chapter" data-level="2.1" data-path="methods.html"><a href="methods.html#database-architecture"><i class="fa fa-check"></i><b>2.1</b> Database Architecture</a><ul>
<li class="chapter" data-level="2.1.1" data-path="methods.html"><a href="methods.html#a-note-on-age"><i class="fa fa-check"></i><b>2.1.1</b> A note on age</a></li>
<li class="chapter" data-level="2.1.2" data-path="methods.html"><a href="methods.html#implementation"><i class="fa fa-check"></i><b>2.1.2</b> Implementation</a></li>
<li class="chapter" data-level="2.1.3" data-path="methods.html"><a href="methods.html#cross-linguistic-and-cross-instrument-architecture"><i class="fa fa-check"></i><b>2.1.3</b> Cross-linguistic and cross-instrument architecture</a></li>
<li class="chapter" data-level="2.1.4" data-path="methods.html"><a href="methods.html#unilemmas-cross-linguistic-conceptual-mappings"><i class="fa fa-check"></i><b>2.1.4</b> “Unilemmas”: cross-linguistic conceptual mappings</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="methods.html"><a href="methods.html#data"><i class="fa fa-check"></i><b>2.2</b> Data</a><ul>
<li class="chapter" data-level="2.2.1" data-path="methods.html"><a href="methods.html#data-provenance"><i class="fa fa-check"></i><b>2.2.1</b> Data Provenance</a></li>
<li class="chapter" data-level="2.2.2" data-path="methods.html"><a href="methods.html#overview-of-the-data"><i class="fa fa-check"></i><b>2.2.2</b> Overview of the Data</a></li>
<li class="chapter" data-level="2.2.3" data-path="methods.html"><a href="methods.html#demographics-of-the-data."><i class="fa fa-check"></i><b>2.2.3</b> Demographics of the data.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="vocab.html"><a href="vocab.html"><i class="fa fa-check"></i><b>3</b> Vocabulary Development</a><ul>
<li class="chapter" data-level="3.1" data-path="vocab.html"><a href="vocab.html#central-tendencies"><i class="fa fa-check"></i><b>3.1</b> Central Tendencies</a><ul>
<li class="chapter" data-level="3.1.1" data-path="vocab.html"><a href="vocab.html#commonalities-across-languages"><i class="fa fa-check"></i><b>3.1.1</b> Commonalities across languages</a></li>
<li class="chapter" data-level="3.1.2" data-path="vocab.html"><a href="vocab.html#cross-language-differences"><i class="fa fa-check"></i><b>3.1.2</b> Cross-language differences</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="vocab.html"><a href="vocab.html#variability-between-individuals"><i class="fa fa-check"></i><b>3.2</b> Variability between individuals</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="demographics.html"><a href="demographics.html"><i class="fa fa-check"></i><b>4</b> Demographic Variables</a><ul>
<li class="chapter" data-level="4.1" data-path="demographics.html"><a href="demographics.html#gender"><i class="fa fa-check"></i><b>4.1</b> Gender</a></li>
<li class="chapter" data-level="4.2" data-path="demographics.html"><a href="demographics.html#maternal-education"><i class="fa fa-check"></i><b>4.2</b> Maternal education</a></li>
<li class="chapter" data-level="4.3" data-path="demographics.html"><a href="demographics.html#birth-order"><i class="fa fa-check"></i><b>4.3</b> Birth order</a></li>
<li class="chapter" data-level="4.4" data-path="demographics.html"><a href="demographics.html#abc-method"><i class="fa fa-check"></i><b>4.4</b> ABC method</a></li>
<li class="chapter" data-level="4.5" data-path="demographics.html"><a href="demographics.html#are-languages-truly-different-controlling-for-demographics"><i class="fa fa-check"></i><b>4.5</b> Are languages truly different, controlling for demographics</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="categories.html"><a href="categories.html"><i class="fa fa-check"></i><b>5</b> Categorical Composition: Syntax</a><ul>
<li class="chapter" data-level="5.1" data-path="categories.html"><a href="categories.html#introduction"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="methods.html"><a href="methods.html#methods"><i class="fa fa-check"></i><b>5.2</b> Methods</a><ul>
<li class="chapter" data-level="5.2.1" data-path="categories.html"><a href="categories.html#estimation-method"><i class="fa fa-check"></i><b>5.2.1</b> Estimation Method</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="categories.html"><a href="categories.html#syntactic-vocabulary-composition"><i class="fa fa-check"></i><b>5.3</b> Syntactic Vocabulary Composition</a><ul>
<li class="chapter" data-level="5.3.1" data-path="categories.html"><a href="categories.html#production-words-and-sentences"><i class="fa fa-check"></i><b>5.3.1</b> Production: Words and Sentences</a></li>
<li class="chapter" data-level="5.3.2" data-path="categories.html"><a href="categories.html#production-words-and-gestures"><i class="fa fa-check"></i><b>5.3.2</b> Production: Words and Gestures</a></li>
<li class="chapter" data-level="5.3.3" data-path="categories.html"><a href="categories.html#summary-across-and-measures"><i class="fa fa-check"></i><b>5.3.3</b> Summary across and measures</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="categories.html"><a href="categories.html#age-effects-on-vocabulary-composition"><i class="fa fa-check"></i><b>5.4</b> Age effects on vocabulary composition</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="categories-semantic.html"><a href="categories-semantic.html"><i class="fa fa-check"></i><b>6</b> Categorical Composition: Semantics</a><ul>
<li class="chapter" data-level="6.1" data-path="categories-semantic.html"><a href="categories-semantic.html#data-prep"><i class="fa fa-check"></i><b>6.1</b> Data Prep</a></li>
<li class="chapter" data-level="6.2" data-path="categories-semantic.html"><a href="categories-semantic.html#illustrating-the-approach"><i class="fa fa-check"></i><b>6.2</b> Illustrating the Approach</a></li>
<li class="chapter" data-level="6.3" data-path="categories-semantic.html"><a href="categories-semantic.html#across-languages"><i class="fa fa-check"></i><b>6.3</b> Across languages</a><ul>
<li class="chapter" data-level="6.3.1" data-path="categories-semantic.html"><a href="categories-semantic.html#ws-production-nouns"><i class="fa fa-check"></i><b>6.3.1</b> WS Production Nouns</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="categories-semantic.html"><a href="categories-semantic.html#specific-semantic-categories"><i class="fa fa-check"></i><b>6.4</b> Specific semantic categories</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="items.html"><a href="items.html"><i class="fa fa-check"></i><b>7</b> Individual Words: Consistencies</a></li>
<li class="chapter" data-level="8" data-path="words-demographics.html"><a href="words-demographics.html"><i class="fa fa-check"></i><b>8</b> Individual Words: Demographics</a></li>
<li class="chapter" data-level="9" data-path="aoapred.html"><a href="aoapred.html"><i class="fa fa-check"></i><b>9</b> Individual Words: Predictive Models</a></li>
<li class="chapter" data-level="10" data-path="gestures.html"><a href="gestures.html"><i class="fa fa-check"></i><b>10</b> Gesture and Communication</a></li>
<li class="chapter" data-level="11" data-path="grammar.html"><a href="grammar.html"><i class="fa fa-check"></i><b>11</b> The Growth of Grammar</a><ul>
<li class="chapter" data-level="11.1" data-path="grammar.html"><a href="grammar.html#introduction-1"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="grammar.html"><a href="grammar.html#goals-of-the-current-analyses"><i class="fa fa-check"></i><b>11.2</b> Goals of the current analyses</a></li>
<li class="chapter" data-level="11.3" data-path="grammar.html"><a href="grammar.html#methods-1"><i class="fa fa-check"></i><b>11.3</b> Methods</a></li>
<li class="chapter" data-level="11.4" data-path="grammar.html"><a href="grammar.html#grammar-and-the-lexicon"><i class="fa fa-check"></i><b>11.4</b> Grammar and the lexicon</a></li>
<li class="chapter" data-level="11.5" data-path="grammar.html"><a href="grammar.html#discussion"><i class="fa fa-check"></i><b>11.5</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="style.html"><a href="style.html"><i class="fa fa-check"></i><b>12</b> Individual Children</a><ul>
<li class="chapter" data-level="12.1" data-path="style.html"><a href="style.html#variation-in-productioncomprehension-tradeoffs"><i class="fa fa-check"></i><b>12.1</b> Variation in Production/Comprehension Tradeoffs</a></li>
<li class="chapter" data-level="12.2" data-path="style.html"><a href="style.html#variation-in-vocabulary-composition"><i class="fa fa-check"></i><b>12.2</b> Variation in Vocabulary Composition</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="theory.html"><a href="theory.html"><i class="fa fa-check"></i><b>13</b> Conclusions</a><ul>
<li class="chapter" data-level="13.1" data-path="theory.html"><a href="theory.html#summary-observations"><i class="fa fa-check"></i><b>13.1</b> Summary Observations</a><ul>
<li class="chapter" data-level="13.1.1" data-path="theory.html"><a href="theory.html#variability"><i class="fa fa-check"></i><b>13.1.1</b> Variability</a></li>
<li class="chapter" data-level="13.1.2" data-path="theory.html"><a href="theory.html#consistency"><i class="fa fa-check"></i><b>13.1.2</b> Consistency</a></li>
<li class="chapter" data-level="13.1.3" data-path="theory.html"><a href="theory.html#limitations"><i class="fa fa-check"></i><b>13.1.3</b> Limitations</a></li>
<li class="chapter" data-level="13.1.4" data-path="theory.html"><a href="theory.html#ruling-out-methodological-alternatives"><i class="fa fa-check"></i><b>13.1.4</b> Ruling out methodological alternatives</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="theory.html"><a href="theory.html#consistency-in-variability"><i class="fa fa-check"></i><b>13.2</b> Consistency in Variability</a></li>
<li class="chapter" data-level="13.3" data-path="theory.html"><a href="theory.html#process-universals"><i class="fa fa-check"></i><b>13.3</b> Process Universals</a><ul>
<li class="chapter" data-level="13.3.1" data-path="theory.html"><a href="theory.html#what-is-a-process"><i class="fa fa-check"></i><b>13.3.1</b> What is a Process?</a></li>
<li class="chapter" data-level="13.3.2" data-path="theory.html"><a href="theory.html#speculations-about-process"><i class="fa fa-check"></i><b>13.3.2</b> Speculations about Process</a></li>
<li class="chapter" data-level="13.3.3" data-path="theory.html"><a href="theory.html#local-vs.global-processes"><i class="fa fa-check"></i><b>13.3.3</b> Local vs. Global Processes</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="theory.html"><a href="theory.html#concluding-remarks"><i class="fa fa-check"></i><b>13.4</b> Concluding Remarks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendix-data.html"><a href="appendix-data.html"><i class="fa fa-check"></i><b>A</b> Individual Datasets</a><ul>
<li class="chapter" data-level="A.1" data-path="appendix-data.html"><a href="appendix-data.html#english"><i class="fa fa-check"></i><b>A.1</b> English</a></li>
<li class="chapter" data-level="A.2" data-path="appendix-data.html"><a href="appendix-data.html#mandarin"><i class="fa fa-check"></i><b>A.2</b> Mandarin</a></li>
<li class="chapter" data-level="A.3" data-path="appendix-data.html"><a href="appendix-data.html#cantonese"><i class="fa fa-check"></i><b>A.3</b> Cantonese</a></li>
<li class="chapter" data-level="A.4" data-path="appendix-data.html"><a href="appendix-data.html#korean"><i class="fa fa-check"></i><b>A.4</b> Korean</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appendix-stitching.html"><a href="appendix-stitching.html"><i class="fa fa-check"></i><b>B</b> Stitching Across Forms</a><ul>
<li class="chapter" data-level="B.1" data-path="appendix-stitching.html"><a href="appendix-stitching.html#item-stitching"><i class="fa fa-check"></i><b>B.1</b> Item Stitching</a></li>
<li class="chapter" data-level="B.2" data-path="appendix-stitching.html"><a href="appendix-stitching.html#form-stitching"><i class="fa fa-check"></i><b>B.2</b> Form Stitching</a></li>
<li class="chapter" data-level="B.3" data-path="appendix-stitching.html"><a href="appendix-stitching.html#item-level-form-stitching"><i class="fa fa-check"></i><b>B.3</b> Item-Level Form Stitching</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="appendix-variability.html"><a href="appendix-variability.html"><i class="fa fa-check"></i><b>C</b> Measures of Variability</a></li>
<li class="chapter" data-level="D" data-path="appendix-aoa.html"><a href="appendix-aoa.html"><i class="fa fa-check"></i><b>D</b> Estimating Age of Acquisition</a><ul>
<li class="chapter" data-level="D.1" data-path="appendix-aoa.html"><a href="appendix-aoa.html#empirical-quantiles"><i class="fa fa-check"></i><b>D.1</b> Empirical quantiles</a></li>
<li class="chapter" data-level="D.2" data-path="appendix-aoa.html"><a href="appendix-aoa.html#basic-glm"><i class="fa fa-check"></i><b>D.2</b> Basic GLM</a></li>
<li class="chapter" data-level="D.3" data-path="appendix-aoa.html"><a href="appendix-aoa.html#robust-glm"><i class="fa fa-check"></i><b>D.3</b> Robust GLM</a></li>
<li class="chapter" data-level="D.4" data-path="appendix-aoa.html"><a href="appendix-aoa.html#bayes-glm"><i class="fa fa-check"></i><b>D.4</b> Bayes GLM</a></li>
<li class="chapter" data-level="D.5" data-path="appendix-aoa.html"><a href="appendix-aoa.html#hierarchical-glm-model"><i class="fa fa-check"></i><b>D.5</b> Hierarchical GLM model</a></li>
<li class="chapter" data-level="D.6" data-path="appendix-aoa.html"><a href="appendix-aoa.html#full-comparison-between-models"><i class="fa fa-check"></i><b>D.6</b> Full comparison between models</a></li>
<li class="chapter" data-level="D.7" data-path="appendix-aoa.html"><a href="appendix-aoa.html#sparsity-simulations"><i class="fa fa-check"></i><b>D.7</b> Sparsity simulations</a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="appendix-vocab-estimation.html"><a href="appendix-vocab-estimation.html"><i class="fa fa-check"></i><b>E</b> Estimating Total Vocabulary</a><ul>
<li class="chapter" data-level="E.0.1" data-path="appendix-vocab-estimation.html"><a href="appendix-vocab-estimation.html#further-thoughts-on-mayor-plunkett-model"><i class="fa fa-check"></i><b>E.0.1</b> Further thoughts on Mayor &amp; Plunkett model</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Variability and Consistency in Early Language Learning: The Wordbank Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="words-demographics" class="section level1">
<h1><span class="header-section-number">8</span> Individual Words: Demographics</h1>
<!-- <!-- ## Predicting Which Words are Harder or Easier -->
<p>–&gt;</p>
<!-- Predicting early learning. Braginsky et al. (2016a) provides an analysis in which independent data sources (including transcripts of child-directed speech) are brought to bear as predictors of acquisition differences between words. This “age of acquisition prediction” model allows us to quantify the consistency and variability in predictor values across languages for particular words, using the UL approach to cross-linguistic analysis.  -->
<!-- By-item stuff like overall item trajectories, `gender-input`, and `uni_lemma` based cross-linguistic consistency things. -->
<p>In Chapter <a href="demographics.html#demographics">4</a>, we documented demographic differences in total vocabulary. In this chapter, we consider the possibility that individual words carry this demographic signal. Which words are learned differentially earlier or later by girls vs. boys or by first-born vs. later-born children?</p>
<!-- ```{r demo_raw_data, eval=FALSE} -->
<!-- get_inst_data <- function(inst_items) { -->
<!--   inst_language <- unique(inst_items$language) -->
<!--   print(inst_language) -->
<!--   inst_form <- unique(inst_items$form) -->
<!--   inst_admins <- filter(admins, language == inst_language, form == inst_form) -->
<!--   get_instrument_data(instrument_language = inst_language, -->
<!--                       instrument_form = inst_form, -->
<!--                       items = inst_items$item_id, -->
<!--                       administrations = inst_admins, -->
<!--                       iteminfo = inst_items) %>% -->
<!--     filter(!is.na(age)) %>% -->
<!--     mutate(produces = !is.na(value) & value == "produces", -->
<!--            understands = !is.na(value) & -->
<!--              (value == "understands" | value == "produces")) %>% -->
<!--     dplyr::select(-value) %>% -->
<!--     gather(measure, value, produces, understands) %>% -->
<!--     mutate(language = inst_language, -->
<!--            form = inst_form) -->
<!-- } -->
<!-- get_lang_data <- function(lang_items) { -->
<!--   lang_items %>% -->
<!--     split(.$form) %>% -->
<!--     map_df(get_inst_data) %>% -->
<!--     # production for WS & WG, comprehension for WG only -->
<!--     filter(measure == "produces" | form == "WG") -->
<!-- } -->
<!-- demo_insts <- admins %>% -->
<!--   filter(!is.na(birth_order) | !is.na(mom_ed) | !is.na(sex)) %>% -->
<!--   distinct(language, form) -->
<!-- raw_data <- items %>% -->
<!--   right_join(demo_insts) %>% -->
<!--   filter(type == "word") %>% -->
<!--   split(.$language) %>% -->
<!--   map(get_lang_data) -->
<!-- write_feather(bind_rows(raw_data), "data/demo_data.feather") -->
<!-- ``` -->
<!-- ```{r demo_read, eval=TRUE} -->
<!-- raw_data <- read_feather("data/demo_data.feather") %>% -->
<!--   split(.$language) -->
<!-- ``` -->
<!-- For each dataset, compute proportion of children of each age and gender who produce/understand each word, fit a logistic regression to those proportions, and then estimate the area between the curves for girls and boys. -->
<!-- ```{r demo_madm_funs} -->
<!-- fit_demo_madm <- function(lang_data, demo) { -->
<!--   print(unique(lang_data$language)) -->
<!--   print(demo) -->
<!--   if (lang_data %>% pull(!!demo) %>% is.na() %>% all()) return(NULL) -->
<!--   demo_lang_data <- lang_data %>% -->
<!--     filter(!is.na(!!demo)) %>% -->
<!--     mutate(birth_order = birth_order %>% -->
<!--              fct_recode("Third+" = "Third", -->
<!--                         "Third+" = "Fourth", -->
<!--                         "Third+" = "Fifth", -->
<!--                         "Third+" = "Sixth", -->
<!--                         "Third+" = "Seventh", -->
<!--                         "Third+" = "Eighth"), -->
<!--            mom_ed = mom_ed %>% -->
<!--              fct_collapse(mom_ed, -->
<!--                           `Below Secondary` = c("None","Primary", -->
<!--                                                 "Some Secondary"), -->
<!--                           `Secondary` = c("Secondary", "Some College"), -->
<!--                           `College and Above` = c("College", -->
<!--                                                   "Some Graduate", -->
<!--                                                   "Graduate"))) -->
<!--   demo_samples <- demo_lang_data %>% -->
<!--     distinct(!!demo, age, data_id) %>% -->
<!--     count(!!demo, age) -->
<!--   if (any(demo_samples$n < 10)) return(NULL) -->
<!--   demo_props <- demo_lang_data %>% -->
<!--     group_by(language, form, !!demo, age, lexical_class, category, -->
<!--              uni_lemma, definition) %>% -->
<!--     summarise(num_true = sum(value, na.rm = TRUE), -->
<!--               num_false = n() - num_true, -->
<!--               prop = num_true / n()) %>% -->
<!--     ungroup() %>% -->
<!--     mutate(unscaled_age = age, -->
<!--            age = scale(age)) -->
<!--   fit_group <- function(group_data) { -->
<!--     # glm(cbind(num_true, num_false) ~ age * demo) -->
<!--     model <- lme4::glmer( -->
<!--       cbind(num_true, num_false) ~ (age | definition) + age, -->
<!--       family = binomial, data = group_data -->
<!--       #control = lme4::glmerControl(optCtrl = list(maxfun = 1e7)) -->
<!--     ) -->
<!--     group_data %>% -->
<!--       mutate(fitted = fitted(model)) %>% -->
<!--       dplyr::select(unscaled_age, age, uni_lemma, definition, fitted) %>% -->
<!--       distinct() -->
<!--   } -->
<!--   demo_fits <- demo_props %>% -->
<!--     group_by(language, form, !!demo) %>% -->
<!--     nest() %>% -->
<!--     mutate(fits = map(data, fit_group)) %>% -->
<!--     dplyr::select(-data) -->
<!--   demo_areas <- demo_fits %>% -->
<!--     unnest() %>% -->
<!--     group_by(language, form, !!demo, uni_lemma, definition) %>% -->
<!--     summarise(area = sum(fitted)) -->
<!--   demo_areas %>% -->
<!--     group_by(language, form, uni_lemma, definition) %>% -->
<!--     summarise(madm = madm(area)) %>% -->
<!--     mutate(demo = as.character(demo)[2]) -->
<!-- } -->
<!-- ``` -->
<!-- ```{r, eval=FALSE} -->
<!-- demos <- c(quo(birth_order), quo(mom_ed), quo(sex)) -->
<!-- do_lang <- function(lang_data) { -->
<!--   demos %>% map_df(~fit_demo_madm(lang_data, .x)) -->
<!-- }, -->
<!-- demo_madm <- raw_data %>%  -->
<!--   map_df(possibly(do_lang, otherwise=NULL)) -->
<!-- write_feather(demo_madm, "data/demo_madm.feather") -->
<!-- ``` -->
<!-- ```{r} -->
<!-- demo_madm <- read_feather("data/demo_madm.feather") -->
<!-- demo_summary <- demo_madm %>% -->
<!--   group_by(language, form, demo) %>% -->
<!--   summarise(mean_madm = mean(madm)) %>% -->
<!--   mutate(inst = paste(language, form, sep = "_")) -->
<!-- #ungroup() %>% -->
<!-- #arrange(desc(mean_madm)) %>% -->
<!-- #mutate(language = factor(language, levels = language)) -->
<!-- ggplot(demo_summary, aes(x = inst, y = mean_madm)) + -->
<!--   coord_flip() + -->
<!--   facet_wrap(~demo) + -->
<!--   geom_point() + -->
<!--   labs(x = "Mean MADM of items", y = "") -->
<!-- ``` -->
<!-- ```{r} -->
<!-- ggplot(demo_madm, aes(x = madm)) + geom_density() + facet_wrap(~demo) -->
<!-- ``` -->
<!-- ```{r gender_plot_area_diffs, fig.width=10, fig.height=6} -->
<!-- lexical_classes <- list("Nouns" = "nouns", -->
<!--                         "Adjectives & Verbs" = c("adjectives", "verbs"), -->
<!--                         "Function Words" = "function_words", -->
<!--                         "Other" = "other") -->
<!-- uni_lemmas <- items %>% -->
<!--   dplyr::select(language, uni_lemma, definition) %>% -->
<!--   filter(language %in% names(raw_data)) %>% -->
<!--   distinct() %>% -->
<!--   filter(!is.na(uni_lemma)) -->
<!-- plt_gender_diffs <- gender_diffs %>% -->
<!--   dplyr::select(-uni_lemma) %>% -->
<!--   left_join(uni_lemmas) %>% -->
<!--   group_by(language) %>% -->
<!--   mutate(label = gsub("(.*) \\(.*\\)", "\\1", definition), -->
<!--          label = gsub("(.*)\\*", "<\\1>", label), -->
<!--          uni_label = gsub("(.*) \\(.*\\)", "\\1", uni_lemma), -->
<!--          area_diff_scaled = as.numeric(scale(area_diff)), -->
<!--          outlier = abs(area_diff_scaled) > 3, -->
<!--          direction = ifelse(area_diff_scaled > 0, "girl", "boy")) %>% -->
<!--   ungroup() %>% -->
<!--   mutate(lexical_class = `levels<-`(factor(lexical_class), lexical_classes)) -->
<!-- gender_diff_means <- plt_gender_diffs %>% -->
<!--   group_by(language) %>% -->
<!--   summarise(mean_area_diff = mean(area_diff), -->
<!--             sd_area_diff = sd(area_diff)) -->
<!-- gender_diff_lexcat_means <- plt_gender_diffs %>% -->
<!--   group_by(language, lexical_class) %>% -->
<!--   summarise(mean_area_diff = mean(area_diff)) -->
<!-- gender_diff_cat_means <- plt_gender_diffs %>% -->
<!--   group_by(language, lexical_class, category) %>% -->
<!--   summarise(mean_area_diff = mean(area_diff)) -->
<!-- ``` -->
<!-- Plot distribution of acquisition differences for English. -->
<!-- ```{r distribution} -->
<!-- binwidth <- 0.005 -->
<!-- demo_gender_diffs <- plt_gender_diffs %>% -->
<!--   filter(language == "Czech")  -->
<!-- demo_means <- gender_diff_means %>% -->
<!--   filter(language == "Czech")  -->
<!-- demo_labels <- plt_gender_diffs %>% -->
<!--   filter(language == "Czech", outlier)  -->
<!-- ggplot(demo_gender_diffs, aes(x = area_diff)) + -->
<!--   coord_fixed(ratio = 4 * binwidth, ylim = c(0, 11)) + -->
<!--   geom_vline(xintercept = 0, linetype = "dashed", colour = "grey", -->
<!--              size = 0.2) + -->
<!--   geom_vline(aes(xintercept = mean_area_diff), -->
<!--              size = 0.4, data = demo_means) + -->
<!--   geom_dotplot(method = "histodot", fill = "grey", colour = "grey", -->
<!--                alpha = 0.5, binwidth = binwidth, dotsize = 0.5, -->
<!--                stackratio = 1.5) + -->
<!--   geom_text_repel(aes(label = label, y = 0, colour = direction), -->
<!--                   data = demo_labels, segment.size = 0.3, -->
<!--                   point.padding = unit(0.2, "lines"), -->
<!--                   arrow = arrow(length = unit(0.02, "npc")), nudge_y = 2, -->
<!--                   family = font, size = 4) + -->
<!--   scale_colour_solarized(guide = FALSE) + -->
<!--   scale_fill_solarized(guide = FALSE) + -->
<!--   scale_y_continuous(name = "Number of words", breaks = NULL) + -->
<!--   labs(x = "Area between girls' and boys' acquisition trajectories") -->
<!-- ``` -->
<!-- Plot distribution of acquisition differences for all languages. -->
<!-- ```{r gender_all_langs} -->
<!-- ggplot(plt_gender_diffs, -->
<!--        aes(x = area_diff)) + -->
<!--   coord_fixed(ratio = 10 * binwidth, ylim = c(0, 8)) + -->
<!--   facet_wrap(~language) + -->
<!--   geom_vline(xintercept = 0, linetype = "dashed", colour = "grey", -->
<!--              size = 0.1) + -->
<!--   geom_vline(aes(xintercept = mean_area_diff), size = 0.5, -->
<!--              data = gender_diff_means) + -->
<!--   geom_dotplot(method = "histodot", fill = "grey", colour = "grey", -->
<!--                alpha = 0.5, binwidth = binwidth, dotsize = 0.5, -->
<!--                stackratio = 1.5) + -->
<!--   geom_text_repel(aes_string(label = "label", colour = "direction"), y = 0, -->
<!--                   data = filter(plt_gender_diffs, outlier), -->
<!--                   segment.size = 0.3, point.padding = unit(0.2, "lines"), -->
<!--                   arrow = arrow(length = unit(0.02, "npc")), nudge_y = 2, -->
<!--                   family = font, size = 3) + -->
<!--   scale_colour_solarized(guide = FALSE) + -->
<!--   scale_y_continuous(name = "Number of words", breaks = NULL) + -->
<!--   labs(x = "Area between girls' and boys' acquisition trajectories") -->
<!-- # } -->
<!-- #  -->
<!-- # walk(cross2(unique(gender_diffs$language), c("label", "uni_label")), -->
<!-- #      ~plot_inst_diffs(.x[[1]], .x[[2]])) -->
<!-- ``` -->
<!-- And with unilemmas:  -->
<!-- ```{r gender_unilemmas_all_langs} -->
<!-- ggplot(plt_gender_diffs, -->
<!--        aes(x = area_diff)) + -->
<!--   coord_fixed(ratio = 10 * binwidth, ylim = c(0, 8)) + -->
<!--   facet_wrap(~language) + -->
<!--   geom_vline(xintercept = 0, linetype = "dashed", colour = "grey", -->
<!--              size = 0.1) + -->
<!--   geom_vline(aes(xintercept = mean_area_diff), size = 0.5, -->
<!--              data = gender_diff_means) + -->
<!--   geom_dotplot(method = "histodot", fill = "grey", colour = "grey", -->
<!--                alpha = 0.5, binwidth = binwidth, dotsize = 0.5, -->
<!--                stackratio = 1.5) + -->
<!--   geom_text_repel(aes_string(label = "uni_label", colour = "direction"), y = 0, -->
<!--                   data = filter(plt_gender_diffs, outlier), -->
<!--                   segment.size = 0.3, point.padding = unit(0.2, "lines"), -->
<!--                   arrow = arrow(length = unit(0.02, "npc")), nudge_y = 2, -->
<!--                   family = font, size = 3) + -->
<!--   scale_colour_solarized(guide = FALSE) + -->
<!--   scale_y_continuous(name = "Number of words", breaks = NULL) + -->
<!--   labs(x = "Area between girls' and boys' acquisition trajectories") -->
<!-- ``` -->
<!-- ```{r gender_top10} -->
<!-- top_10 <- plt_gender_diffs %>% -->
<!--   group_by(language, direction) %>% -->
<!--   top_n(10, abs(area_diff_scaled)) %>% -->
<!--   arrange(abs(area_diff_scaled)) %>% -->
<!--   mutate(rank = row_number()) -->
<!-- top_categories <- top_10 %>% -->
<!--   group_by(direction, category) %>% -->
<!--   summarise(n = n()) -->
<!-- top_uni_lemmas <- top_10 %>% -->
<!--   group_by(direction, category, uni_lemma) %>% -->
<!--   summarise(n = n()) -->
<!-- ``` -->
<!-- <!-- Plot top 10 uni_lemmas by area difference for a given form_measure, direction, category, uni_lemma. -->
<p>–&gt; <!-- <!-- ```{r gender_top10} --> –&gt; <!-- <!-- plot_top <- function(fm, dir, show_cat = "ALL", show_uni = "ALL") { --> –&gt; <!-- <!--   top_10 <- top_10 %>% --> –&gt; <!-- <!--     mutate(uni_label = ifelse(uni_label == "child's own name", --> –&gt; <!-- <!--                               "child's name", uni_label)) --> –&gt; <!-- <!--   fg <- top_10 %>% filter(form_measure == fm, direction == dir) --> –&gt; <!-- <!--   bg <- top_10 %>% filter(form_measure == fm, direction == dir) --> –&gt; <!-- <!--   if (!(show_cat == "ALL")) { --> –&gt; <!-- <!--     title <- show_cat --> –&gt; <!-- <!--     fg <- fg %>% filter(category == show_cat) --> –&gt; <!-- <!--     bg <- bg %>% filter(!(category == show_cat)) --> –&gt; <!-- <!--   } else if (!(show_uni == "ALL")) { --> –&gt; <!-- <!--     title <- show_uni --> –&gt; <!-- <!--     fg <- fg %>% filter(uni_lemma == show_uni) --> –&gt; <!-- <!--     bg <- bg %>% filter(!(uni_lemma == show_uni)) --> –&gt; <!-- <!--   } else { --> –&gt; <!-- <!--     title <- "" --> –&gt; <!-- <!--     bg <- bg[0,] --> –&gt; <!-- <!--   } --> –&gt; <!-- <!--   ggplot(NULL, aes(x = language, y = rank, label = uni_label)) + --> –&gt; <!-- <!--     geom_label(aes(colour = language), fontface = "bold", label.size = 0.5, --> –&gt; <!-- <!--                data = fg) + --> –&gt; <!-- <!--     geom_label(colour = "grey", alpha = 0.5, data = bg) + --> –&gt; <!-- <!--     scale_colour_solarized(guide = FALSE) + --> –&gt; <!-- <!--     ggtitle(title) + --> –&gt; <!-- <!--     theme(axis.line.y = element_blank(), --> –&gt; <!-- <!--           #axis.text.x = element_blank(), --> –&gt; <!-- <!--           axis.text.y = element_blank(), --> –&gt; <!-- <!--           axis.ticks = element_blank(), --> –&gt; <!-- <!--           axis.title.x = element_blank(), --> –&gt; <!-- <!--           axis.title.y = element_blank(), --> –&gt; <!-- <!--           panel.background = element_blank(), --> –&gt; <!-- <!--           panel.border = element_blank(), --> –&gt; <!-- <!--           panel.grid.major = element_blank(), --> –&gt; <!-- <!--           panel.grid.minor = element_blank(), --> –&gt; <!-- <!--           plot.background = element_blank()) --> –&gt; <!-- <!-- } --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- What are the most girl/boy categories and uni_lemmas? -->
<!-- Girl unilemmas -->
<!-- ```{r} -->
<!-- top_10 %>% -->
<!--   filter(direction == "girl") %>% -->
<!--   group_by(uni_lemma) %>% -->
<!--   summarise(n = n()) %>% -->
<!--   arrange(desc(n)) %>% -->
<!--   knitr::kable() -->
<!-- ``` -->
<!-- Girl categories -->
<!-- ```{r} -->
<!-- top_10 %>% -->
<!--   filter(direction == "girl") %>% -->
<!--   group_by(category) %>% -->
<!--   summarise(n = n()) %>% -->
<!--   arrange(desc(n)) %>% -->
<!--   knitr::kable() -->
<!-- ``` -->
<!-- Boy unilemmas -->
<!-- ```{r} -->
<!-- top_10 %>% -->
<!--   filter(direction == "boy") %>% -->
<!--   group_by(uni_lemma) %>% -->
<!--   summarise(n = n()) %>% -->
<!--   arrange(desc(n)) %>% -->
<!--   knitr::kable() -->
<!-- ``` -->
<!-- Boy categories -->
<!-- ```{r} -->
<!-- top_10 %>% -->
<!--   filter(direction == "boy") %>% -->
<!--   group_by(category) %>% -->
<!--   summarise(n = n()) %>% -->
<!--   arrange(desc(n)) %>% -->
<!--   knitr::kable() -->
<!-- ``` -->
<!-- Plot top 10 girlest/boyest for all words, most common word cross-linguistically, most common category cross-linguistically. -->
<!-- <!-- ```{r} -->
<p>–&gt; <!-- <!-- w <- 10 --> –&gt; <!-- <!-- h <- 4 --> –&gt; <!-- <!-- plot_top("WS_produces", "girl") --> –&gt; <!-- <!-- ggsave("bucld/top10_girl_all.png", width = w, height = h) --> –&gt; <!-- <!-- plot_top("WS_produces", "girl", show_uni = "doll") --> –&gt; <!-- <!-- ggsave("bucld/top10_girl_doll.png", width = w, height = h) --> –&gt; <!-- <!-- plot_top("WS_produces", "girl", show_uni = "dress (object)") --> –&gt; <!-- <!-- ggsave("bucld/top10_girl_dress.png", width = w, height = h) --> –&gt; <!-- <!-- plot_top("WS_produces", "girl", show_cat = "clothing") --> –&gt; <!-- <!-- ggsave("bucld/top10_girl_clothing.png", width = w, height = h) --> –&gt;</p>
<!-- <!-- plot_top("WS_produces", "boy") -->
<p>–&gt; <!-- <!-- ggsave("bucld/top10_boy_all.png", width = w, height = h) --> –&gt; <!-- <!-- plot_top("WS_produces", "boy", show_uni = "tractor") --> –&gt; <!-- <!-- ggsave("bucld/top10_boy_tractor.png", width = w, height = h) --> –&gt; <!-- <!-- plot_top("WS_produces", "boy", show_cat = "vehicles") --> –&gt; <!-- <!-- ggsave("bucld/top10_boy_vehicles.png", width = w, height = h) --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- ## Combine word count data with CDI data -->
<p>–&gt;</p>
<!-- <!-- Build up a mapping between CDI items and possible words for them in CHILDES. -->
<p>–&gt; <!-- <!-- ```{r case_map} --> –&gt; <!-- <!-- stem <- function(x) SnowballC::wordStem(x) %>% gsub("'", "", .) --> –&gt;</p>
<!-- <!-- special_cases <- read_csv("english_special_cases.csv", col_names = FALSE) -->
<p>–&gt;</p>
<!-- <!-- transforms <- c( -->
<p>–&gt; <!-- <!--   function(x) gsub("(.*) \\(.*\\)", "\\1", x), --> –&gt; <!-- <!--   function(x) gsub(" ", "_", x), --> –&gt; <!-- <!--   function(x) gsub(" ", "+", x), --> –&gt; <!-- <!--   function(x) gsub("(.+) \\1", "\\1", x) --> –&gt; <!-- <!-- ) --> –&gt;</p>
<!-- <!-- special_case_map <- map_df(1:nrow(special_cases), function(i) { -->
<p>–&gt; <!-- <!--   item <- special_cases$X1[i] --> –&gt; <!-- <!--   options <- special_cases[i, 2:ncol(special_cases)] %>% --> –&gt; <!-- <!--     as.character() %>% --> –&gt; <!-- <!--     discard(is.na) --> –&gt; <!-- <!--   trans_opts <- map(options, function(opt) map_chr(transforms, ~.x(opt))) %>% --> –&gt; <!-- <!--     unlist() %>% unique() --> –&gt; <!-- <!--   data_frame(item = rep(item, 2 * length(trans_opts)), --> –&gt; <!-- <!--              gloss = c(trans_opts, stem(trans_opts))) --> –&gt; <!-- <!-- }) --> –&gt;</p>
<!-- <!-- pattern_map <- filter(gender_diffs, language == "English")$definition %>% -->
<p>–&gt; <!-- <!--   unique() %>% --> –&gt; <!-- <!--   map_df(function(item) { --> –&gt; <!-- <!--     options <- item %>% strsplit("/") %>% unlist() --> –&gt; <!-- <!--     options <- c(options, stem(options)) --> –&gt; <!-- <!--     trans_opts <- map(options, function(opt) map_chr(transforms, ~.x(opt))) %>% --> –&gt; <!-- <!--       unlist() %>% unique() --> –&gt; <!-- <!--     data_frame(item = rep(item, 2 * length(trans_opts)), --> –&gt; <!-- <!--                gloss = c(trans_opts, stem(trans_opts))) %>% --> –&gt; <!-- <!--       distinct() --> –&gt; <!-- <!--   }) --> –&gt;</p>
<!-- <!-- case_map <- bind_rows(special_case_map, pattern_map) %>% distinct() -->
<p>–&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- Sum word counts over CDI items. -->
<p>–&gt; <!-- <!-- ```{r item_gender_counts} --> –&gt; <!-- <!-- gloss_gender_counts <- gender_counts %>% --> –&gt; <!-- <!--   filter(!grepl("^[[:upper:]].*$", gloss)) %>% --> –&gt; <!-- <!--   mutate(gloss = gsub("-.*", "", gloss), --> –&gt; <!-- <!--          gloss = ifelse(stem(gloss) == "", gloss, stem(gloss))) %>% --> –&gt; <!-- <!--   group_by(gender, gloss) %>% --> –&gt; <!-- <!--   summarise(count = sum(count)) %>% --> –&gt; <!-- <!--   spread(gender, count, fill = 0) %>% --> –&gt; <!-- <!--   filter(female != 0, male != 0) --> –&gt;</p>
<!-- <!-- item_gender_counts <- gender_counts %>% -->
<p>–&gt; <!-- <!--   mutate(gloss = gsub("-.*", "", gloss), --> –&gt; <!-- <!--          gloss = ifelse(stem(gloss) == "", gloss, stem(gloss))) %>% --> –&gt; <!-- <!--   left_join(case_map) %>% --> –&gt; <!-- <!--   mutate(item = ifelse(is.na(item), gloss, item)) %>% --> –&gt; <!-- <!--   group_by(gender, item) %>% --> –&gt; <!-- <!--   summarise(count = sum(count)) %>% --> –&gt; <!-- <!--   spread(gender, count, fill = 0) %>% --> –&gt; <!-- <!--   filter(female != 0, male != 0) --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- Compute various metrics of item frequency differences. -->
<p>–&gt; <!-- <!-- ```{r item_gender_data} --> –&gt; <!-- <!-- # gsq <- function(female, male) { --> –&gt; <!-- <!-- #   a <- female --> –&gt; <!-- <!-- #   b <- male --> –&gt; <!-- <!-- #   c <- sum(female) --> –&gt; <!-- <!-- #   d <- sum(male) --> –&gt; <!-- <!-- #   e_1 <- c * (a + b) / (c + d) --> –&gt; <!-- <!-- #   e_2 <- d * (a + b) / (c + d) --> –&gt; <!-- <!-- #   2 * (a * log(a / e_1) + b * log(b / e_2)) --> –&gt; <!-- <!-- # } --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- mut_inf <- function(female, male) { --> –&gt; <!-- <!--   log2(female / sum(female) * (sum(female) + sum(male)) / (female + male)) --> –&gt; <!-- <!-- } --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- # kl <- function(female, male) { --> –&gt; <!-- <!-- #   p <- female / sum(female) --> –&gt; <!-- <!-- #   q <- male / sum(male) --> –&gt; <!-- <!-- #   p * log(p / q) --> –&gt; <!-- <!-- # } --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- item_gender_data <- item_gender_counts %>% --> –&gt; <!-- <!--   rename(female_count = female, male_count = male) %>% --> –&gt; <!-- <!--   mutate(mut_inf = mut_inf(female_count, male_count), --> –&gt; <!-- <!--          #gsq = gsq(female_count, male_count), --> –&gt; <!-- <!--          #kl = kl(female_count, male_count), --> –&gt; <!-- <!--          log_female_prob = log(female_count / sum(female_count)), --> –&gt; <!-- <!--          log_male_prob = log(male_count / sum(male_count)), --> –&gt; <!-- <!--          log_prob = log((female_count + male_count) / --> –&gt; <!-- <!--                           (sum(female_count) + sum(male_count))), --> –&gt; <!-- <!--          log_prob_ratio = log_female_prob - log_male_prob, --> –&gt; <!-- <!--          log_likelihood_ratio = log( --> –&gt; <!-- <!--            dbinom(female_count, sum(female_count), exp(log_prob)) * --> –&gt; <!-- <!--              dbinom(male_count, sum(male_count), exp(log_prob))) - --> –&gt; <!-- <!--            log( --> –&gt; <!-- <!--              dbinom(female_count, sum(female_count), exp(log_female_prob)) * --> –&gt; <!-- <!--                dbinom(male_count, sum(male_count), exp(log_male_prob))), --> –&gt; <!-- <!--          llr_p = pchisq(-2 * log_likelihood_ratio, 1, lower.tail = FALSE)) --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- Combine acquistion differences with frequency differences -->
<p>–&gt; <!-- <!-- ```{r gender_diff_freqs} --> –&gt; <!-- <!-- min_count <- 30 --> –&gt; <!-- <!-- gender_diff_freqs <- plt_gender_diffs %>% --> –&gt; <!-- <!--   filter(language == "English") %>% --> –&gt; <!-- <!--   rename(item = definition) %>% --> –&gt; <!-- <!--   inner_join(item_gender_data) %>% --> –&gt; <!-- <!--   #  inner_join(item_gender_counts) %>% --> –&gt; <!-- <!--   #  rename(female_count = female, male_count = male) %>% --> –&gt; <!-- <!--   filter(female_count > min_count, male_count > min_count) --> –&gt;</p>
<!-- <!-- gender_diff_freqs_ws <- gender_diff_freqs %>% -->
<p>–&gt; <!-- <!--   filter(form_measure == "WS_produces") --> –&gt;</p>
<!-- <!-- gender_diff_freqs_ws %>% -->
<p>–&gt; <!-- <!--   mutate(llr_p_adj = p.adjust(llr_p, method = "bonferroni")) %>% --> –&gt; <!-- <!--   group_by() %>% --> –&gt; <!-- <!--   summarise(sig = sum(llr_p_adj < 0.01), total = n(), prop = sig / total) --> –&gt; <!-- <!-- gender_diff_freqs_ws %>% --> –&gt; <!-- <!--   group_by(lexical_class) %>% --> –&gt; <!-- <!--   summarise(sig = sum(llr_p < 0.01), total = n(), prop = sig / total) --> –&gt; <!-- <!-- gender_diff_freqs_ws %>% --> –&gt; <!-- <!--   group_by(category) %>% --> –&gt; <!-- <!--   summarise(sig = sum(llr_p < 0.01), total = n(), prop = sig / total) --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- ```{r} -->
<p>–&gt; <!-- <!-- # cdi_gender_counts <- gender_diff_freqs %>% --> –&gt; <!-- <!-- #   filter(form_measure == "WS_produces") %>% --> –&gt; <!-- <!-- #   select(lexical_class, category, item, female_count, male_count) --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- # boot_sample <- function(s) { --> –&gt; <!-- <!-- #   if (!s %% 100) print(s) --> –&gt; <!-- <!-- #   cdi_gender_counts %>% --> –&gt; <!-- <!-- #     split(.$item) %>% --> –&gt; <!-- <!-- #     map_df(function(item) { --> –&gt; <!-- <!-- #       item_genders <- c(rep(1, item$female_count), rep(0, item$male_count)) --> –&gt; <!-- <!-- #       boot_genders <- sample(item_genders, replace = TRUE) --> –&gt; <!-- <!-- #       female_count <- sum(boot_genders) --> –&gt; <!-- <!-- #       male_count <- length(boot_genders) - female_count --> –&gt; <!-- <!-- #       item$female_count <- sum(boot_genders) --> –&gt; <!-- <!-- #       item$male_count <- length(boot_genders) - female_count --> –&gt; <!-- <!-- #       item --> –&gt; <!-- <!-- #     }) %>% --> –&gt; <!-- <!-- #     mutate(sample = s) --> –&gt; <!-- <!-- # } --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- # n_samples <- 10000 --> –&gt; <!-- <!-- # boot_samples <- map_df(1:n_samples, boot_sample) --> –&gt; <!-- <!-- # boot_samples_10k <- boot_samples --> –&gt; <!-- <!-- # boot_p <- boot_samples %>% --> –&gt; <!-- <!-- #   mutate(x = female_count / sum(female_count) - male_count / sum(male_count), --> –&gt; <!-- <!-- #          H = ifelse(x > 0, 1, ifelse(x == 0, 0.5, 0))) %>% --> –&gt; <!-- <!-- #   group_by(lexical_class, category, item) %>% --> –&gt; <!-- <!-- #   summarise(p_girl = sum(H) / n_samples, --> –&gt; <!-- <!-- #             p = (1 + 2 * n_samples * min(p_girl, 1 - p_girl)) / (1 + n_samples)) --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- # boot_mi <- boot_samples %>% --> –&gt; <!-- <!-- #   group_by(sample) %>% --> –&gt; <!-- <!-- #   mutate(mi = mut_inf(female_count, male_count)) %>% --> –&gt; <!-- <!-- #   group_by(lexical_class, category, item) %>% --> –&gt; <!-- <!-- #   summarise(mean_mi = mean(mi)) --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- # boot_log_probability_ratio <- boot_samples %>% --> –&gt; <!-- <!-- #   group_by(sample) %>% --> –&gt; <!-- <!-- #   mutate(p_female = female_count / sum(female_count), --> –&gt; <!-- <!-- #          p_male = male_count / sum(male_count), --> –&gt; <!-- <!-- #          p_joint = (female_count + male_count) / --> –&gt; <!-- <!-- #            (sum(female_count) + sum(male_count)), --> –&gt; <!-- <!-- #          lpr = log(p_female) - log(p_male)) %>% --> –&gt; <!-- <!-- #   group_by(lexical_class, category, item) %>% --> –&gt; <!-- <!-- #   summarise(mean_lpr = mean(lpr)) --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- # boot_log_likelihood <- boot_samples %>% --> –&gt; <!-- <!-- # #  filter(female_count > 30, male_count > 30) %>% --> –&gt; <!-- <!-- #   filter(sample < 1001) %>% --> –&gt; <!-- <!-- #   group_by(sample) %>% --> –&gt; <!-- <!-- #   mutate(total_female = sum(female_count), --> –&gt; <!-- <!-- #          total_male = sum(male_count), --> –&gt; <!-- <!-- #          p_female = female_count / total_female, --> –&gt; <!-- <!-- #          p_male = male_count / total_male, --> –&gt; <!-- <!-- #          joint_count = female_count + male_count, --> –&gt; <!-- <!-- #          p_joint = joint_count / (total_female + total_male), --> –&gt; <!-- <!-- #          log_likelihood = log(dbinom(female_count, total_female, p_female)) - --> –&gt; <!-- <!-- #            log(dbinom(female_count, total_female, p_joint))) %>% --> –&gt; <!-- <!-- #          # log_likelihood = log((dbinom(female_count, total_female, p_joint) * --> –&gt; <!-- <!-- #          #                     dbinom(male_count, total_male, p_joint)) / --> –&gt; <!-- <!-- #          #   (dbinom(female_count, total_female, p_female) * --> –&gt; <!-- <!-- #          #      dbinom(male_count, total_male, p_male)))) %>% --> –&gt; <!-- <!-- #          # log_likelihood = dbinom(female_count, total_female, p_joint, log = TRUE) - --> –&gt; <!-- <!-- #          #   dbinom(female_count, total_female, p_female, log = TRUE)) %>% --> –&gt; <!-- <!-- #          # log_likelihood = (dbinom(female_count, total_female, p_joint, log = TRUE) + --> –&gt; <!-- <!-- #          #                     dbinom(male_count, total_male, p_joint, log = TRUE)) - --> –&gt; <!-- <!-- #          #   (dbinom(female_count, total_female, p_female, log = TRUE) + --> –&gt; <!-- <!-- #          #      dbinom(male_count, total_male, p_male, log = TRUE))) %>% --> –&gt; <!-- <!-- #   group_by(lexical_class, category, item) %>% --> –&gt; <!-- <!-- #   summarise(mean_log_likelihood = mean(log_likelihood)) --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- # boot_p %>% --> –&gt; <!-- <!-- #   ungroup() %>% --> –&gt; <!-- <!-- #   summarise(sig = sum(p < 0.01), total = n(), prop = sig / total) --> –&gt; <!-- <!-- # boot_p %>% --> –&gt; <!-- <!-- #   group_by(lexical_class) %>% --> –&gt; <!-- <!-- #   summarise(sig = sum(p < 0.01), total = n(), prop = sig / total) --> –&gt; <!-- <!-- # boot_p %>% --> –&gt; <!-- <!-- #   group_by(category) %>% --> –&gt; <!-- <!-- #   summarise(sig = sum(p < 0.01), total = n(), prop = sig / total) %>% --> –&gt; <!-- <!-- #   arrange(desc(prop)) --> –&gt; <!-- <!-- # boot_p %>% --> –&gt; <!-- <!-- #   ungroup() %>% --> –&gt; <!-- <!-- #   filter((p_girl == 1)) --> –&gt; <!-- <!-- #  --> –&gt; <!-- <!-- # ggplot(boot_p, aes(x = p_girl)) + --> –&gt; <!-- <!-- #   geom_density() --> –&gt; <!-- <!-- # ggplot(boot_log_likelihood, aes(x = mean_log_likelihood)) + --> –&gt; <!-- <!-- #   geom_density() --> –&gt;</p>
<!-- <!-- # boot_mi <- boot_mi_samples %>% -->
<p>–&gt; <!-- <!-- #   group_by(form_measure, lexical_class) %>% --> –&gt; <!-- <!-- #   summarise(ci_lower = ci_lower(mi), --> –&gt; <!-- <!-- #             ci_upper = ci_upper(mi), --> –&gt; <!-- <!-- #             mi = mean(mi)) --> –&gt;</p>
<!-- <!-- #gender_mi <- cdi_gender_counts %>% summarise_count_data() -->
<p>–&gt; <!-- <!-- #   mutate(mi_gender = mut_inf(female_count, male_count)) %>% --> –&gt; <!-- <!-- # #  group_by(form_measure, lexical_class, category) %>% --> –&gt; <!-- <!-- #   group_by(form_measure, lexical_class) %>% --> –&gt; <!-- <!-- #   summarise(mi = mean(mi_gender)) %>% --> –&gt; <!-- <!-- #   mutate(lexical_class = factor(lexical_class, --> –&gt; <!-- <!-- #                                 levels = rev(levels(lexical_class)))) --> –&gt;</p>
<!-- <!-- # ggplot(boot_mi_samples %>% filter(form_measure == "WS_produces"), -->
<p>–&gt; <!-- <!-- #        aes(x = lexical_class, y = mi)) + --> –&gt; <!-- <!-- #   #facet_grid(. ~ form_measure) + --> –&gt; <!-- <!-- #   coord_flip() + --> –&gt; <!-- <!-- #   geom_violin(colour = solarized_palette(2)[2]) + --> –&gt; <!-- <!-- #   geom_point(data = gender_mi %>% filter(form_measure == "WS_produces"), --> –&gt; <!-- <!-- #              colour = solarized_palette(2)[1]) + --> –&gt; <!-- <!-- #   scale_colour_solarized(name = "") + --> –&gt; <!-- <!-- #   labs(y = "Mutual information between speech to girls and to boys", x = "") --> –&gt;</p>
<!-- <!-- # ggplot(gender_kl, aes(x = lexical_class, y = kl)) + -->
<p>–&gt; <!-- <!-- #   facet_grid(. ~ form_measure) + --> –&gt; <!-- <!-- #   coord_flip() + --> –&gt; <!-- <!-- #   geom_point(colour = solarized_palette(2)[1]) + --> –&gt; <!-- <!-- # #  geom_pointrange(aes(ymin = ci_lower, ymax = ci_upper), --> –&gt; <!-- <!-- #   geom_errorbar(aes(ymin = ci_lower, ymax = ci_upper), --> –&gt; <!-- <!-- #                   data = random_kl, --> –&gt; <!-- <!-- #                   colour = solarized_palette(2)[2]) + --> –&gt; <!-- <!-- #   labs(y = "Kullback-Leibler divergence between speech to girls and to boys", x = "") --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- Plot frequency to boys against frequency to girls. -->
<p>–&gt; <!-- <!-- ```{r freq_scatter} --> –&gt; <!-- <!-- n_label <- 20 --> –&gt; <!-- <!-- measure <- "log_prob_ratio" --> –&gt; <!-- <!-- # label_threshold <- sort(abs(gender_diff_freqs_ws[[measure]]), --> –&gt; <!-- <!-- #                         decreasing = TRUE)[n_label] --> –&gt; <!-- <!-- label_threshold <- 2.5 --> –&gt; <!-- <!-- gender_diff_freqs_ws <- gender_diff_freqs_ws %>% --> –&gt; <!-- <!--   mutate(#label = abs(log_prob_ratio) >= label_threshold, --> –&gt; <!-- <!--     label = exp(abs(log_prob_ratio)) > label_threshold, --> –&gt; <!-- <!--     sig = llr_p < 0.01, --> –&gt; <!-- <!--     direction = log_prob_ratio > 0) --> –&gt; <!-- <!-- labeled <- gender_diff_freqs_ws %>% filter(label) --> –&gt;</p>
<!-- <!-- k <- c(2.5, 1.5) -->
<p>–&gt; <!-- <!-- ks <- c(log(k), -log(k)) --> –&gt; <!-- <!-- dp <- ggplot(gender_diff_freqs_ws, --> –&gt; <!-- <!--              aes(x = log_female_prob, y = log_male_prob)) + --> –&gt; <!-- <!--   coord_fixed() + --> –&gt; <!-- <!--   geom_abline(slope = 1, intercept = 0, colour = "grey", --> –&gt; <!-- <!--               linetype = "dashed") + --> –&gt; <!-- <!--   geom_point(alpha = 0, data = gender_diff_freqs_ws) + --> –&gt; <!-- <!--   labs(x = "Log probability in speech to girls", --> –&gt; <!-- <!--        y = "Log probability in speech to boys") + --> –&gt; <!-- <!--   theme(axis.title.x = element_text(colour = solarized_palette(2)[[2]]), --> –&gt; <!-- <!--         axis.title.y = element_text(colour = solarized_palette(2)[[1]])) --> –&gt; <!-- <!-- ggsave("bucld/freq_diffs_blank.png", width = 6, height = 6) --> –&gt;</p>
<!-- <!-- dp + -->
<p>–&gt; <!-- <!--   geom_point(colour = "grey", alpha = 0.6, size = 0.5, --> –&gt; <!-- <!--              data = gender_diff_freqs_ws) --> –&gt; <!-- <!-- ggsave("bucld/freq_diffs_pts.png", width = 6, height = 6) --> –&gt;</p>
<!-- <!-- dp_sig <- dp + -->
<p>–&gt; <!-- <!--   geom_point(colour = "grey", alpha = 0.6, size = 0.5, --> –&gt; <!-- <!--              data = gender_diff_freqs_ws %>% filter(!sig)) + --> –&gt; <!-- <!--   geom_point(colour = "black", alpha = 0.6, size = 0.5, --> –&gt; <!-- <!--              data = gender_diff_freqs_ws %>% filter(sig)) --> –&gt; <!-- <!-- ggsave("bucld/freq_diffs_sig.png", width = 6, height = 6) --> –&gt;</p>
<!-- <!-- contour_plot <- function(t) { -->
<p>–&gt; <!-- <!--   labeled <- gender_diff_freqs_ws %>% --> –&gt; <!-- <!--     filter(exp(abs(log_prob_ratio)) > t) --> –&gt; <!-- <!--   dp_sig + --> –&gt; <!-- <!--     geom_abline(intercept = log(t), slope = 1, --> –&gt; <!-- <!--                 colour = solarized_palette(2)[[1]]) + --> –&gt; <!-- <!--     geom_abline(intercept = -log(t), slope = 1, --> –&gt; <!-- <!--                 colour = solarized_palette(2)[[2]]) + --> –&gt; <!-- <!--     geom_label_repel(aes(label = item, colour = direction), family = font, --> –&gt; <!-- <!--                      size = 3, box.padding = unit(0.2, "lines"), --> –&gt; <!-- <!--                      point.padding = unit(0.2, "lines"), --> –&gt; <!-- <!--                      segment.color = "grey", --> –&gt; <!-- <!--                      nudge_x = ifelse(labeled$log_prob_ratio > 0, 0.7, 0), --> –&gt; <!-- <!--                      nudge_y = ifelse(labeled$log_prob_ratio < 0, 0.7, 0), --> –&gt; <!-- <!--                      data = labeled) + --> –&gt; <!-- <!--     annotate("text", x = -12, y = -3, label = sprintf("%sx", t), --> –&gt; <!-- <!--              family = font, size = 6) + --> –&gt; <!-- <!--     scale_colour_solarized(guide = FALSE) --> –&gt; <!-- <!-- } --> –&gt;</p>
<!-- <!-- contour_plot(3) -->
<p>–&gt; <!-- <!-- ggsave("bucld/freq_diffs_contour3.png", width = 6, height = 6) --> –&gt;</p>
<!-- <!-- contour_plot(2) -->
<p>–&gt; <!-- <!-- ggsave("bucld/freq_diffs_contour2.png", width = 6, height = 6) --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- ```{r} -->
<p>–&gt; <!-- <!-- binwidth <- 0.05 --> –&gt; <!-- <!-- labeled <- gender_diff_freqs_ws %>% --> –&gt; <!-- <!--   filter(exp(abs(log_prob_ratio)) > 2.5) --> –&gt; <!-- <!-- mean_prob_ratio <- mean(gender_diff_freqs_ws$log_prob_ratio) --> –&gt; <!-- <!-- ggplot(gender_diff_freqs_ws, aes(x = log_prob_ratio)) + --> –&gt; <!-- <!--   coord_fixed(ratio = 10 * binwidth, ylim = c(0, 5)) + --> –&gt; <!-- <!--   geom_vline(xintercept = 0, linetype = "dashed", colour = "grey", --> –&gt; <!-- <!--              size = 0.2) + --> –&gt; <!-- <!--   geom_vline(xintercept = mean_prob_ratio, size = 0.4) + --> –&gt; <!-- <!--   geom_dotplot(method = "histodot", fill = "grey", colour = "grey", --> –&gt; <!-- <!--                alpha = 0.5, binwidth = binwidth, dotsize = 0.5, --> –&gt; <!-- <!--                stackratio = 1.5) + --> –&gt; <!-- <!--   geom_label_repel(aes(label = item, y = 0, colour = direction), --> –&gt; <!-- <!--                    data = labeled, --> –&gt; <!-- <!--                    segment.size = 0.3, --> –&gt; <!-- <!--                    point.padding = unit(0.2, "lines"), --> –&gt; <!-- <!--                    arrow = arrow(length = unit(0.01, "npc")), --> –&gt; <!-- <!--                    nudge_y = 1, --> –&gt; <!-- <!--                    family = font, size = 3, fill = "white") + --> –&gt; <!-- <!--   scale_colour_solarized(guide = FALSE) + --> –&gt; <!-- <!--   scale_y_continuous(name = "Number of words", breaks = NULL) + --> –&gt; <!-- <!--   labs(x = "Log ratio of probability in girl-directed to boy-directed speech") --> –&gt;</p>
<!-- <!-- ggsave("bucld/freq_diffs_dot.png", width = 6, height = 5) -->
<p>–&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- Predict acquisition differences from frequency differences. -->
<p>–&gt; <!-- <!-- ```{r gender_diff_models} --> –&gt; <!-- <!-- predictor <- "log_prob_ratio" --> –&gt; <!-- <!-- # predictor <- "log_likelihood_ratio" --> –&gt; <!-- <!-- # predictor <- "mut_inf" --> –&gt; <!-- <!-- predictor_formula <- as.formula(sprintf("area_diff ~ %s", predictor)) --> –&gt;</p>
<!-- <!-- gender_diff_freqs_content <- gender_diff_freqs %>% -->
<p>–&gt; <!-- <!--   filter(lexical_class != "Function Words") --> –&gt;</p>
<!-- <!-- gender_diff_lexcat_models <- gender_diff_freqs %>% -->
<p>–&gt; <!-- <!--   group_by(form_measure, lexical_class) %>% --> –&gt; <!-- <!--   nest() %>% --> –&gt; <!-- <!--   mutate(model = data %>% --> –&gt; <!-- <!--            map(~lm(predictor_formula, data = .)), --> –&gt; <!-- <!--          results = model %>% map(~broom::tidy(.x) %>% --> –&gt; <!-- <!--                                    mutate(rsq = summary(.x)$r.squared))) %>% --> –&gt; <!-- <!--   select(form_measure, lexical_class, results) %>% --> –&gt; <!-- <!--   unnest() --> –&gt;</p>
<!-- <!-- knitr::kable(gender_diff_lexcat_models) -->
<p>–&gt;</p>
<!-- <!-- gender_diff_models <- gender_diff_freqs %>% -->
<p>–&gt; <!-- <!--   group_by(form_measure) %>% --> –&gt; <!-- <!--   nest() %>% --> –&gt; <!-- <!--   mutate(model = data %>% map(~lm(predictor_formula, data = .)), --> –&gt; <!-- <!--          results = model %>% map(~broom::tidy(.x) %>% --> –&gt; <!-- <!--                                    mutate(rsq = summary(.x)$r.squared))) %>% --> –&gt; <!-- <!--   select(form_measure, results) %>% --> –&gt; <!-- <!--   unnest() --> –&gt;</p>
<!-- <!-- gender_diff_models_content <- gender_diff_freqs_content %>% -->
<p>–&gt; <!-- <!--   group_by(form_measure) %>% --> –&gt; <!-- <!--   nest() %>% --> –&gt; <!-- <!--   mutate(model = data %>% map(~lm(predictor_formula, data = .)), --> –&gt; <!-- <!--          results = model %>% map(~broom::tidy(.x) %>% --> –&gt; <!-- <!--                                    mutate(rsq = summary(.x)$r.squared))) %>% --> –&gt; <!-- <!--   select(form_measure, results) %>% --> –&gt; <!-- <!--   unnest() --> –&gt;</p>
<!-- <!-- knitr::kable(gender_diff_models) -->
<p>–&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- Plot acquisition differences against frequency differences by lexical class. -->
<p>–&gt; <!-- <!-- ```{r plot_gender_diff_freqs_lexcat, fig.width=10, fig.height=8} --> –&gt; <!-- <!-- ggplot(gender_diff_freqs, aes_string(x = predictor, y = "area_diff")) + --> –&gt; <!-- <!--   facet_grid(lexical_class ~ form_measure, scales = "free") + --> –&gt; <!-- <!--   geom_hline(yintercept = 0, linetype = "dashed", colour = "grey") + --> –&gt; <!-- <!--   geom_vline(xintercept = 0, linetype = "dashed", colour = "grey") + --> –&gt; <!-- <!--   geom_text(aes(label = label, colour = lexical_class), size = 3, --> –&gt; <!-- <!--             family = font) + --> –&gt; <!-- <!--   geom_smooth(colour = "black", method = "lm", se = FALSE) + --> –&gt; <!-- <!--   geom_text(aes(label = sprintf("R^2==%.2f", rsq)), parse = TRUE, --> –&gt; <!-- <!--             x = 0.004, y = 1, family = font, --> –&gt; <!-- <!--             data = gender_diff_lexcat_models) + --> –&gt; <!-- <!--   scale_colour_solarized(guide = FALSE) + --> –&gt; <!-- <!--   ylab("Area between girls' & boys' acquisition trajectories") + --> –&gt; <!-- <!--   xlab("Mutual information between girl-directed & boy-directed speech (bits)") --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- Plot acquisition differences against frequency differences for content words. -->
<p>–&gt; <!-- <!-- ```{r plot_gender_diff_freqs, fig.width=10, fig.height=3} --> –&gt; <!-- <!-- ggplot(gender_diff_freqs_content, --> –&gt; <!-- <!--        aes_string(x = predictor, y = "area_diff")) + --> –&gt; <!-- <!--   facet_wrap(~form_measure) + --> –&gt; <!-- <!--   geom_hline(yintercept = 0, linetype = "dashed", colour = "grey") + --> –&gt; <!-- <!--   geom_vline(xintercept = 0, linetype = "dashed", colour = "grey") + --> –&gt; <!-- <!--   geom_jitter(size = 0.5, colour = "grey", alpha = 0.5) + --> –&gt; <!-- <!--   geom_text_repel(aes(label = label, colour = lexical_class), --> –&gt; <!-- <!--                   data = filter(gender_diff_freqs_content, outlier), --> –&gt; <!-- <!--                   segment.size = 0.3, point.padding = unit(0.2, "lines"), --> –&gt; <!-- <!--                   family = font, size = 2.5) + --> –&gt; <!-- <!--   geom_smooth(colour = "black", method = "lm", se = FALSE) + --> –&gt; <!-- <!--   geom_text(aes(label = sprintf("R^2==%.2f", rsq)), parse = TRUE, --> –&gt; <!-- <!--             x = -1, y = 0.35, hjust = "left", family = font, --> –&gt; <!-- <!--             data = gender_diff_models_content) + --> –&gt; <!-- <!--   scale_colour_solarized(guide = FALSE) + --> –&gt; <!-- <!--   ylab("Area between girls' & boys'\n acquisition trajectories") + --> –&gt; <!-- <!--   xlab("Log ratio of probability in girl-directed to boy-directed speech") --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- Plot acquisition differences against frequency differences for all words. -->
<p>–&gt; <!-- <!-- ```{r plot_gender_diff_freqs, fig.width=10, fig.height=3} --> –&gt; <!-- <!-- gdf <- gender_diff_freqs %>% --> –&gt; <!-- <!--   filter(form_measure != "WG_produces") %>% --> –&gt; <!-- <!--   mutate(form_measure = gsub("_", " ", form_measure)) --> –&gt; <!-- <!-- gdm <- gender_diff_models %>% --> –&gt; <!-- <!--   filter(form_measure != "WG_produces") %>% --> –&gt; <!-- <!--   mutate(form_measure = gsub("_", " ", form_measure), --> –&gt; <!-- <!--          p = map_dbl(p.value, ~max(.x, 0.0001))) --> –&gt; <!-- <!-- ggplot(gdf, aes_string(x = predictor, y = "area_diff")) + --> –&gt; <!-- <!--   facet_wrap(~form_measure) + --> –&gt; <!-- <!--   geom_hline(yintercept = 0, linetype = "dashed", colour = "grey") + --> –&gt; <!-- <!--   geom_vline(xintercept = 0, linetype = "dashed", colour = "grey") + --> –&gt; <!-- <!--   geom_jitter(size = 0.5, colour = "grey", alpha = 0.5) + --> –&gt; <!-- <!--   geom_text_repel(aes(label = label, colour = direction), --> –&gt; <!-- <!--                   data = filter(gdf, outlier), --> –&gt; <!-- <!--                   segment.size = 0.3, point.padding = unit(0.2, "lines"), --> –&gt; <!-- <!--                   family = font, size = 3) + --> –&gt; <!-- <!--   geom_smooth(colour = "black", method = "lm", se = FALSE) + --> –&gt; <!-- <!--   geom_text(aes(label = sprintf("R^2==%.2f", rsq)), parse = TRUE, --> –&gt; <!-- <!--             x = -1.5, y = 0.35, hjust = "left", family = font, --> –&gt; <!-- <!--             data = gdm) + --> –&gt; <!-- <!--   geom_text(aes(label = sprintf("p < %.4f", p)), --> –&gt; <!-- <!--             x = 1.8, y = -0.15, hjust = "right", family = font, --> –&gt; <!-- <!--             data = gdm) + --> –&gt; <!-- <!--   scale_colour_solarized(guide = FALSE) + --> –&gt; <!-- <!--   ylab("Acquisition difference") + --> –&gt; <!-- <!--   xlab("Input frequency difference") --> –&gt; <!-- <!-- ggsave("bucld/models.png", width = 8, height = 4) --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- ```{r demo_trajectories} -->
<p>–&gt; <!-- <!-- demo_word <- "doll" --> –&gt; <!-- <!-- demo_data <- raw_data$English %>% --> –&gt; <!-- <!--   filter(form == "WS", definition == demo_word, !is.na(sex), !is.na(age)) %>% --> –&gt; <!-- <!--   group_by(sex, age) %>% --> –&gt; <!-- <!--   summarise(prop = sum(value, na.rm = TRUE) / n()) --> –&gt;</p>
<!-- <!-- plt <- ggplot(demo_data, aes(x = age, y = prop, colour = rev(sex))) + -->
<p>–&gt; <!-- <!--   scale_colour_solarized(guide = FALSE) + --> –&gt; <!-- <!--   scale_y_continuous(name = "Proportion of children producing", --> –&gt; <!-- <!--                      limits = c(0, 1)) + --> –&gt; <!-- <!--   scale_x_continuous(name = "Age (months)", limits = c(16, 32), --> –&gt; <!-- <!--                      breaks = seq(16, 30, 2)) + --> –&gt; <!-- <!--   ggtitle(demo_word) --> –&gt; <!-- <!-- ggsave("bucld/demo_traj_blank.png", plt, width = 6, height = 4) --> –&gt;</p>
<!-- <!-- plt_points <- plt + -->
<p>–&gt; <!-- <!--   geom_point(size = 0.8) + --> –&gt; <!-- <!--   geom_dl(aes(label = sex), method = list("last.qp", dl.trans(x = x + 0.5), --> –&gt; <!-- <!--                                           fontfamily = "Open Sans", fontsize = 2)) --> –&gt; <!-- <!-- ggsave("bucld/demo_traj_points.png", plt_points, width = 6, height = 4) --> –&gt;</p>
<!-- <!-- plt_curves <- plt_points + -->
<p>–&gt; <!-- <!--   geom_smooth(method = "glm", method.args = list(family = "binomial"), --> –&gt; <!-- <!--               se = FALSE, size = 1) --> –&gt; <!-- <!-- ggsave("bucld/demo_traj_curves.png", plt_curves, width = 6, height = 4) --> –&gt;</p>
<!-- <!-- curves <- ggplot_build(plt_curves)$data[[3]] -->
<p>–&gt; <!-- <!-- area <- data_frame(x = filter(curves, group == 1)$x, --> –&gt; <!-- <!--                    ymin = filter(curves, group == 2)$y, --> –&gt; <!-- <!--                    ymax = filter(curves, group == 1)$y) --> –&gt;</p>
<!-- <!-- plt_area <- plt + -->
<p>–&gt; <!-- <!--   geom_ribbon(aes(x = x, ymin = ymin, ymax = ymax), data = area, --> –&gt; <!-- <!--               inherit.aes = FALSE, fill = "grey80") + --> –&gt; <!-- <!--   geom_smooth(method = "glm", method.args = list(family = "binomial"), --> –&gt; <!-- <!--               se = FALSE, size = 1) + --> –&gt; <!-- <!--   geom_dl(aes(label = sex), --> –&gt; <!-- <!--           method = list("last.qp", dl.trans(x = x + 0.5), --> –&gt; <!-- <!--                         fontfamily = "Open Sans", fontsize = 2)) --> –&gt; <!-- <!-- ggsave("bucld/demo_traj_area.png", plt_area, width = 6, height = 4) --> –&gt; <!-- <!-- ``` --> –&gt;</p>
<!-- <!-- ```{r demo_trajectories} -->
<p>–&gt; <!-- <!-- demo_words <- c("dress (object)", "dog", "tractor", "chase") --> –&gt; <!-- <!-- demo_multi_data <- #raw_data$English %>% --> –&gt; <!-- <!--   eng %>% --> –&gt; <!-- <!--   filter(form == "WS", definition %in% demo_words, !is.na(sex), --> –&gt; <!-- <!--          !is.na(age)) %>% --> –&gt; <!-- <!--   group_by(sex, age, definition) %>% --> –&gt; <!-- <!--   summarise(prop = sum(value, na.rm = TRUE) / n()) --> –&gt;</p>
<!-- <!-- ggplot(demo_multi_data, aes(x = age, y = prop, colour = rev(sex))) + -->
<p>–&gt; <!-- <!--   facet_wrap(~definition) + --> –&gt; <!-- <!--   scale_colour_solarized(guide = FALSE) + --> –&gt; <!-- <!--   scale_y_continuous(name = "Proportion of children producing", --> –&gt; <!-- <!--                      limits = c(0, 1)) + --> –&gt; <!-- <!--   scale_x_continuous(name = "Age (months)", limits = c(16, 33), --> –&gt; <!-- <!--                      breaks = seq(16, 30, 2)) + --> –&gt; <!-- <!--   geom_dl(aes(label = sex), method = list("last.qp", dl.trans(x = x + 0.1), --> –&gt; <!-- <!--                                           fontfamily = "Open Sans", size = 0.5)) + --> –&gt; <!-- <!--   geom_smooth(method = "glm", method.args = list(family = "binomial"), --> –&gt; <!-- <!--               se = FALSE, size = 1) --> –&gt; <!-- <!-- ggsave("bucld/demo_multi_traj.png", width = 7, height = 5.5) --> –&gt; <!-- <!-- ``` --> –&gt;</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="items.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="aoapred.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/langcog/wordbank-book/edit/master/05b-items-demo.Rmd",
"text": "Edit"
},
"download": ["wordbank-book.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
